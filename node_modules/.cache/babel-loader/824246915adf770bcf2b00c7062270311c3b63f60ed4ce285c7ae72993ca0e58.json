{"ast":null,"code":"var _jsxFileName = \"/home/ayu/Documents/project-ayu/app-wrap-station/src/dashboard.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$();\nimport React, { useState, useCallback, useRef } from 'react';\nimport { Car, FileText, CheckSquare, Clock, X, Trash2, Camera, Download, Loader2 } from 'lucide-react';\n\n// Konfigurasi API Endpoint (Asumsi API untuk Generate PDF berjalan di port 4000)\n// CATATAN PENTING: Anda harus memiliki backend yang berjalan di port ini yang dapat menerima JSON \n// (termasuk Base64 data gambar dan tanda tangan) dan mengembalikan file PDF.\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_URL = \"http://localhost:4000/api/generate-pdf\";\n\n// Skema data inspeksi default\nconst defaultInspectionSchema = {\n  Paint: {\n    status: 'G',\n    notes: '',\n    file: null\n  },\n  Windshield: {\n    status: 'G',\n    notes: '',\n    file: null\n  },\n  Windows: {\n    status: 'G',\n    notes: 'Windows is clean.',\n    file: null\n  },\n  Mirrors: {\n    status: 'G',\n    notes: '',\n    file: null\n  },\n  'Rear Window': {\n    status: 'G',\n    notes: '',\n    file: null\n  },\n  Tires: {\n    status: 'G',\n    notes: '',\n    file: null\n  },\n  Wheels: {\n    status: 'G',\n    notes: '',\n    file: null\n  }\n};\n\n// Component Input Group yang diperbarui: Lokasi sekarang bisa diedit (readOnly=false)\nconst InputGroup = /*#__PURE__*/React.memo(_c = ({\n  label,\n  value,\n  name,\n  onChange,\n  required = false\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n    className: \"block text-sm font-medium text-gray-700 mb-1\",\n    children: [label, \" \", required && /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-red-500\",\n      children: \"*\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 34\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n    type: \"text\",\n    name: name,\n    value: value\n    // onChange sudah cukup untuk memastikan input berjalan normal tanpa masalah \"klik per kata\"\n    ,\n    onChange: onChange,\n    className: `w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none \n                border-gray-300 focus:ring-indigo-500 focus:border-indigo-500\n            `\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 22,\n  columnNumber: 5\n}, this));\n\n// Component Tanda Tangan\n_c2 = InputGroup;\nconst SignaturePad = ({\n  signature,\n  setSignature\n}) => {\n  _s();\n  const canvasRef = useRef(null);\n  const [isDrawing, setIsDrawing] = useState(false);\n\n  // Menggunakan useCallback untuk event handler untuk stabilitas React\n  const startDrawing = useCallback(e => {\n    e.preventDefault(); // Mencegah scrolling/default touch action\n    setIsDrawing(true);\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext('2d');\n    const rect = canvas.getBoundingClientRect();\n\n    // Penanganan koordinat yang seragam untuk mouse dan touch\n    const clientX = e.clientX || (e.touches && e.touches[0] ? e.touches[0].clientX : 0);\n    const clientY = e.clientY || (e.touches && e.touches[0] ? e.touches[0].clientY : 0);\n    const x = clientX - rect.left;\n    const y = clientY - rect.top;\n    ctx.beginPath();\n    ctx.moveTo(x, y);\n  }, []);\n  const draw = useCallback(e => {\n    if (!isDrawing) return;\n    e.preventDefault(); // Mencegah scrolling/default touch action\n\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext('2d');\n    const rect = canvas.getBoundingClientRect();\n    const clientX = e.clientX || (e.touches && e.touches[0] ? e.touches[0].clientX : 0);\n    const clientY = e.clientY || (e.touches && e.touches[0] ? e.touches[0].clientY : 0);\n    const x = clientX - rect.left;\n    const y = clientY - rect.top;\n    ctx.lineTo(x, y);\n    ctx.stroke();\n  }, [isDrawing]);\n  const stopDrawing = useCallback(() => {\n    if (isDrawing) {\n      setIsDrawing(false);\n      const canvas = canvasRef.current;\n      if (canvas) {\n        // Memastikan tanda tangan tersimpan\n        setSignature(canvas.toDataURL('image/png'));\n      }\n    }\n  }, [isDrawing, setSignature]);\n\n  // Setup Canvas dan Redraw\n  React.useEffect(() => {\n    const canvas = canvasRef.current;\n    if (canvas) {\n      const ctx = canvas.getContext('2d');\n      ctx.lineWidth = 3;\n      ctx.lineCap = 'round';\n      ctx.strokeStyle = '#000';\n      const updateCanvasSize = () => {\n        const parent = canvas.parentElement;\n        canvas.width = parent.clientWidth;\n        canvas.height = 200;\n\n        // Redraw signature jika sudah ada\n        if (signature) {\n          const img = new Image();\n          img.onload = () => {\n            // Gambar ulang tanda tangan sesuai ukuran baru\n            ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n          };\n          img.src = signature;\n        }\n      };\n      updateCanvasSize();\n      window.addEventListener('resize', updateCanvasSize);\n\n      // Cleanup listener\n      return () => window.removeEventListener('resize', updateCanvasSize);\n    }\n  }, [signature]);\n\n  // Listener untuk Mouse/Touch Events\n  React.useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    // MOUSE EVENTS\n    canvas.addEventListener('mousedown', startDrawing);\n    canvas.addEventListener('mousemove', draw);\n    window.addEventListener('mouseup', stopDrawing); // Listener di window untuk mencegah putus saat mouse keluar canvas\n\n    // TOUCH EVENTS (Passive: false untuk mencegah default action seperti scrolling)\n    canvas.addEventListener('touchstart', startDrawing, {\n      passive: false\n    });\n    canvas.addEventListener('touchmove', draw, {\n      passive: false\n    });\n    window.addEventListener('touchend', stopDrawing);\n    return () => {\n      canvas.removeEventListener('mousedown', startDrawing);\n      canvas.removeEventListener('mousemove', draw);\n      window.removeEventListener('mouseup', stopDrawing);\n      canvas.removeEventListener('touchstart', startDrawing);\n      canvas.removeEventListener('touchmove', draw);\n      window.removeEventListener('touchend', stopDrawing);\n    };\n  }, [startDrawing, draw, stopDrawing]); // isDrawing bukan dependency karena start/stop sudah menangani logic\n\n  const clearSignature = () => {\n    const canvas = canvasRef.current;\n    if (canvas) {\n      const ctx = canvas.getContext('2d');\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      setSignature(''); // Set state ke string kosong\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative border border-gray-300 rounded-lg shadow-inner bg-white min-h-[200px]\",\n    children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      className: \"w-full h-full cursor-crosshair\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: clearSignature,\n      type: \"button\",\n      className: \"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition duration-150 shadow-lg\",\n      title: \"Hapus Tanda Tangan\",\n      children: /*#__PURE__*/_jsxDEV(X, {\n        className: \"w-5 h-5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 165,\n    columnNumber: 5\n  }, this);\n};\n\n// Component Item Inspeksi\n_s(SignaturePad, \"5LIewfz4Im6VLJrz3D9HPFrB2B8=\");\n_c3 = SignaturePad;\nconst InspectionItem = /*#__PURE__*/_s2(/*#__PURE__*/React.memo(_c4 = _s2(({\n  item,\n  details,\n  onUpdate\n}) => {\n  _s2();\n  // Gunakan state lokal untuk mengontrol tampilan Note/Catatan\n  const [showNotes, setShowNotes] = useState(!!details.notes || !!details.file); // Tampilkan jika sudah ada isinya\n  const fileInputRef = useRef(null);\n  const handleStatusChange = newStatus => {\n    onUpdate(item, {\n      ...details,\n      status: newStatus\n    });\n  };\n  const handleNotesChange = e => {\n    onUpdate(item, {\n      ...details,\n      notes: e.target.value\n    });\n  };\n  const handleFileChange = e => {\n    const file = e.target.files[0];\n    if (file) {\n      if (file.size > 5 * 1024 * 1024) {\n        // 5MB limit\n        alert(\"Ukuran file terlalu besar. Maksimal 5MB.\");\n        e.target.value = null; // Reset input\n        onUpdate(item, {\n          ...details,\n          file: null\n        });\n        return;\n      }\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        // Simpan Data URL (Base64) dan nama file\n        onUpdate(item, {\n          ...details,\n          file: {\n            name: file.name,\n            dataUrl: reader.result\n          }\n        });\n        setShowNotes(true); // Pastikan notes terbuka jika file diupload\n      };\n      reader.onerror = () => {\n        console.error(\"Gagal membaca file.\");\n        onUpdate(item, {\n          ...details,\n          file: null\n        });\n      };\n      reader.readAsDataURL(file);\n    } else {\n      onUpdate(item, {\n        ...details,\n        file: null\n      });\n    }\n  };\n  const removeFile = () => {\n    onUpdate(item, {\n      ...details,\n      file: null\n    });\n    // Reset input file\n    if (fileInputRef.current) {\n      fileInputRef.current.value = null;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white p-4 rounded-lg shadow-sm border border-gray-200 mb-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-1\",\n          children: ['G', 'F', 'P'].map(s => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleStatusChange(s),\n            className: `w-10 h-10 text-lg font-bold rounded-lg transition duration-150 ${details.status === s ? s === 'G' ? 'bg-green-600 text-white shadow-lg' : s === 'F' ? 'bg-yellow-500 text-gray-800 shadow-lg' : 'bg-red-600 text-white shadow-lg' : 'bg-gray-100 text-gray-600 hover:bg-gray-200'}`,\n            children: s\n          }, s, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-gray-800\",\n          children: item\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowNotes(!showNotes),\n        className: `p-2 rounded-full transition duration-200 ${showNotes ? 'bg-indigo-600 text-white shadow-md' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`,\n        title: showNotes ? 'Sembunyikan Catatan' : 'Tampilkan Catatan',\n        children: showNotes ? /*#__PURE__*/_jsxDEV(X, {\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 24\n        }, this) : /*#__PURE__*/_jsxDEV(FileText, {\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 52\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this), showNotes && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 p-4 border-t border-gray-200 bg-gray-50 rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: details.notes,\n        onChange: handleNotesChange,\n        placeholder: `Tambahkan tulisan di note untuk ${item}...`,\n        rows: \"3\",\n        className: \"w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 resize-none text-sm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-3 flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-sm font-medium text-gray-700 flex items-center space-x-2 cursor-pointer bg-indigo-100 px-3 py-1.5 rounded-md hover:bg-indigo-200 transition duration-150\",\n          children: [/*#__PURE__*/_jsxDEV(Camera, {\n            className: \"w-4 h-4 text-indigo-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Pilih Foto Kerusakan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            ref: fileInputRef,\n            onChange: handleFileChange,\n            className: \"hidden\",\n            accept: \"image/*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 13\n        }, this), details.file ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2 text-sm text-gray-600\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"truncate max-w-xs font-medium\",\n            children: details.file.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: removeFile,\n            type: \"button\",\n            className: \"text-red-500 hover:text-red-700 p-1 rounded-full bg-red-100\",\n            children: /*#__PURE__*/_jsxDEV(Trash2, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm text-gray-500 italic\",\n          children: \"Maksimal 5MB.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 11\n      }, this), details.file && details.file.dataUrl && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: details.file.dataUrl,\n        alt: \"Preview Foto Kerusakan\",\n        className: \"mt-3 w-40 h-40 object-cover rounded-md border border-gray-300 shadow-md\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 14\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 239,\n    columnNumber: 5\n  }, this);\n}, \"JFoLncHVyRHGCcdRCf5pGdduVEs=\")), \"JFoLncHVyRHGCcdRCf5pGdduVEs=\");\n\n// Custom Modal Component\n_c5 = InspectionItem;\nconst Modal = ({\n  message,\n  type,\n  onClose\n}) => {\n  const isSuccess = type === 'success';\n  const isError = type === 'error';\n  const isLoading = type === 'loading';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50 p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-8 rounded-xl shadow-2xl w-full max-w-sm text-center transform transition-all duration-300 scale-100\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `mx-auto w-16 h-16 rounded-full flex items-center justify-center mb-4 ${isSuccess ? 'bg-green-100' : isError ? 'bg-red-100' : 'bg-indigo-100'}`,\n        children: isLoading ? /*#__PURE__*/_jsxDEV(Loader2, {\n          className: \"w-8 h-8 text-indigo-600 animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 16\n        }, this) : isSuccess ? /*#__PURE__*/_jsxDEV(CheckSquare, {\n          className: \"w-8 h-8 text-green-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(X, {\n          className: \"w-8 h-8 text-red-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold mb-2 text-gray-800\",\n        children: isLoading ? 'Processing...' : isSuccess ? 'Sukses' : 'Error'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mb-6\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 11\n      }, this), !isLoading && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        className: `w-full py-2 rounded-lg font-semibold transition duration-200 ${isSuccess ? 'bg-indigo-600 hover:bg-indigo-700 text-white shadow-md' : 'bg-red-500 hover:bg-red-600 text-white shadow-md'}`,\n        children: \"OK\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 326,\n    columnNumber: 7\n  }, this);\n};\n\n// Hook kustom untuk menangani logika fetch dan download PDF\n_c6 = Modal;\nconst usePDF = ({\n  apiUrl\n}) => {\n  _s3();\n  // Fungsi untuk mengunduh PDF\n  const downloadPDF = useCallback(async data => {\n    try {\n      console.log(\"Mengirim data inspeksi ke backend...\");\n      // Logika retri (Exponential Backoff) untuk koneksi yang tidak stabil\n      const MAX_RETRIES = 3;\n      let response;\n      for (let i = 0; i < MAX_RETRIES; i++) {\n        try {\n          response = await fetch(apiUrl, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n              // Menambahkan header untuk memberi tahu backend tentang batasan ukuran file\n              // Catatan: Header ini hanya bersifat informasi dan harus diimplementasikan\n              // di backend Anda (misalnya, di Nginx atau Express body-parser limit).\n              'X-Max-Payload-Size': '5MB'\n            },\n            body: JSON.stringify(data)\n          });\n          if (response.ok) {\n            break; // Sukses, keluar dari loop retry\n          } else if (response.status === 413) {\n            // Payload Too Large\n            throw new Error(`Ukuran data terlalu besar. Harap periksa ukuran file gambar Anda.`);\n          } else if (i === MAX_RETRIES - 1) {\n            // Setelah percobaan terakhir, jika masih gagal\n            const errorText = await response.text();\n            throw new Error(`Server error (${response.status}): ${errorText.substring(0, 100)}...`);\n          }\n        } catch (error) {\n          if (i === MAX_RETRIES - 1 || error.message.includes(\"Ukuran data terlalu besar\")) {\n            throw error; // Melemparkan error ukuran file atau error terakhir\n          }\n          console.error(`Attempt ${i + 1} failed:`, error.message);\n          // Tunggu sebelum percobaan berikutnya\n          const delay = Math.pow(2, i) * 1000; // 1s, 2s, 4s\n          await new Promise(resolve => setTimeout(resolve, delay));\n        }\n      }\n\n      // Dapatkan blob PDF dari respons\n      const blob = await response.blob();\n\n      // Dapatkan nama file dari header Content-Disposition jika tersedia\n      const contentDisposition = response.headers.get('Content-Disposition');\n      let filename = `Inspection_Report_${data.customer.licensePlate || 'New'}_${new Date().toLocaleDateString('id-ID').replace(/\\//g, '-')}.pdf`;\n      if (contentDisposition) {\n        const match = contentDisposition.match(/filename=\"(.+)\"/);\n        if (match && match[1]) {\n          filename = match[1];\n        }\n      }\n\n      // Buat URL objek dan link download\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.style.display = 'none';\n      a.href = url;\n      a.download = filename;\n\n      // Pemicu download\n      document.body.appendChild(a);\n      a.click();\n      window.URL.revokeObjectURL(url);\n      console.log(`PDF berhasil diunduh: ${filename}`);\n      return filename; // Kembalikan nama file jika diperlukan\n    } catch (error) {\n      console.error(\"Error dalam proses download PDF:\", error);\n      throw new Error(`Gagal mengunduh PDF: ${error.message}`);\n    }\n  }, [apiUrl]);\n  return {\n    downloadPDF\n  };\n};\n\n// Component Utama Dashboard\n_s3(usePDF, \"VOFzXvuYHn2g53c3fHwwJIEmuH8=\");\nconst Dashboard = () => {\n  _s4();\n  const [activeStep, setActiveStep] = useState(1);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [modalMessage, setModalMessage] = useState('');\n  const [modalType, setModalType] = useState('success'); // 'success', 'error', 'loading'\n\n  const [formData, setFormData] = useState(() => ({\n    date: new Date().toISOString(),\n    customer: {\n      location: 'Wrap Station Medan',\n      // Dapat diubah\n      firstName: '',\n      lastName: '',\n      phone: '',\n      carBrand: '',\n      carModel: '',\n      color: '',\n      licensePlate: ''\n    },\n    inspection: defaultInspectionSchema,\n    agreed: false,\n    signature: ''\n  }));\n\n  // Kustom hook untuk logika Fetch PDF\n  const {\n    downloadPDF\n  } = usePDF({\n    apiUrl: API_URL\n  });\n  const handleCustomerChange = useCallback(e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      customer: {\n        ...prev.customer,\n        [name]: value\n      }\n    }));\n  }, []);\n  const handleInspectionUpdate = useCallback((item, newDetails) => {\n    setFormData(prev => ({\n      ...prev,\n      inspection: {\n        ...prev.inspection,\n        [item]: newDetails\n      }\n    }));\n  }, []);\n  const handleSignatureChange = useCallback(dataUrl => {\n    setFormData(prev => ({\n      ...prev,\n      signature: dataUrl\n    }));\n  }, []);\n  const handleAgreementChange = useCallback(e => {\n    setFormData(prev => ({\n      ...prev,\n      agreed: e.target.checked\n    }));\n  }, []);\n  const isStep1Valid = () => {\n    const cust = formData.customer;\n    // Pengecekan sederhana bahwa field wajib tidak kosong\n    return cust.firstName && cust.lastName && cust.phone && cust.carBrand && cust.carModel && cust.licensePlate && cust.location;\n  };\n  const isStep3Valid = () => {\n    return formData.agreed && formData.signature;\n  };\n  const handleNext = () => {\n    if (activeStep === 1 && !isStep1Valid()) {\n      setModalMessage('Harap isi semua detail pelanggan dan kendaraan wajib yang bertanda (*).');\n      setModalType('error');\n      setShowModal(true);\n      return;\n    }\n    setActiveStep(prev => prev + 1);\n  };\n  const handlePrev = () => {\n    setActiveStep(prev => prev - 1);\n  };\n  const handleSubmit = async () => {\n    if (!isStep3Valid()) {\n      setModalMessage('Anda harus menandatangani dan menyetujui Syarat & Ketentuan.');\n      setModalType('error');\n      setShowModal(true);\n      return;\n    }\n    setIsSubmitting(true);\n    setModalMessage('Membuat PDF...');\n    setModalType('loading');\n    setShowModal(true);\n    try {\n      await downloadPDF(formData);\n      setModalMessage('Inspeksi Berhasil Ditambahkan dan PDF Diunduh!');\n      setModalType('success');\n\n      // Reset Form Data setelah sukses\n      setFormData({\n        date: new Date().toISOString(),\n        customer: {\n          location: 'Wrap Station Medan',\n          firstName: '',\n          lastName: '',\n          phone: '',\n          carBrand: '',\n          carModel: '',\n          color: '',\n          licensePlate: ''\n        },\n        inspection: defaultInspectionSchema,\n        agreed: false,\n        signature: ''\n      });\n      setActiveStep(1);\n    } catch (error) {\n      console.error('Error saat submit/mengunduh PDF:', error);\n      let errorMessage = error.message || 'Periksa koneksi server.';\n      if (errorMessage.includes('Ukuran data terlalu besar')) {\n        errorMessage = 'Gagal: Ukuran data (termasuk gambar) melebihi batas. Harap perkecil ukuran foto atau batasi jumlahnya.';\n      }\n      setModalMessage(`Gagal mengunduh PDF: ${errorMessage}`);\n      setModalType('error');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  const renderStep = () => {\n    switch (activeStep) {\n      case 1:\n        // STEP 1: Customer Details\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-gray-800 border-b pb-2 mb-4 flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(Car, {\n              className: \"w-6 h-6 text-indigo-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 587,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Detail Pelanggan & Kendaraan\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 588,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 586,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n            label: \"Lokasi\",\n            value: formData.customer.location,\n            name: \"location\",\n            onChange: handleCustomerChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 591,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n            label: \"Nama Depan Pelanggan\",\n            value: formData.customer.firstName,\n            name: \"firstName\",\n            onChange: handleCustomerChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 592,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n            label: \"Nama Belakang Pelanggan\",\n            value: formData.customer.lastName,\n            name: \"lastName\",\n            onChange: handleCustomerChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 593,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n            label: \"Nomor Telepon Pelanggan\",\n            value: formData.customer.phone,\n            name: \"phone\",\n            onChange: handleCustomerChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 594,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n            label: \"Merek Mobil\",\n            value: formData.customer.carBrand,\n            name: \"carBrand\",\n            onChange: handleCustomerChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 595,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n            label: \"Model Mobil\",\n            value: formData.customer.carModel,\n            name: \"carModel\",\n            onChange: handleCustomerChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 596,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n            label: \"Warna\",\n            value: formData.customer.color,\n            name: \"color\",\n            onChange: handleCustomerChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n            label: \"Plat Nomor\",\n            value: formData.customer.licensePlate,\n            name: \"licensePlate\",\n            onChange: handleCustomerChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 598,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end pt-4\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleNext,\n              disabled: !isStep1Valid(),\n              className: \"px-6 py-2 bg-indigo-600 text-white font-semibold rounded-lg shadow-md hover:bg-indigo-700 transition duration-200 disabled:opacity-50\",\n              children: [\"Selanjutnya \", /*#__PURE__*/_jsxDEV(\"span\", {\n                \"aria-hidden\": \"true\",\n                children: \"\\u2192\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 606,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 601,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 600,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 585,\n          columnNumber: 11\n        }, this);\n      case 2:\n        // STEP 2: Inspection\n\n        // Group items for better UI layout\n        const groups = {\n          'Body Paint': ['Paint'],\n          'Glass': ['Windshield', 'Windows', 'Mirrors', 'Rear Window'],\n          'Wheels & Tires': ['Tires', 'Wheels']\n        };\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-gray-800 border-b pb-2 mb-4 flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(FileText, {\n              className: \"w-6 h-6 text-indigo-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 625,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Detail Inspeksi\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 626,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 624,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4 mb-6 text-sm font-semibold p-3 bg-gray-100 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-green-600\",\n              children: \"G = Baik (Good)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 630,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-yellow-500\",\n              children: \"F = Cukup (Fair)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 631,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-600\",\n              children: \"P = Buruk (Poor)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 632,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 629,\n            columnNumber: 13\n          }, this), Object.entries(groups).map(([groupName, items]) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-bold text-indigo-700 mb-4\",\n              children: groupName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 637,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: items.map(item => /*#__PURE__*/_jsxDEV(InspectionItem, {\n                item: item,\n                details: formData.inspection[item],\n                onUpdate: handleInspectionUpdate\n              }, item, false, {\n                fileName: _jsxFileName,\n                lineNumber: 640,\n                columnNumber: 29\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 638,\n              columnNumber: 21\n            }, this)]\n          }, groupName, true, {\n            fileName: _jsxFileName,\n            lineNumber: 636,\n            columnNumber: 17\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between pt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handlePrev,\n              className: \"px-6 py-2 bg-gray-300 text-gray-800 font-semibold rounded-lg shadow-md hover:bg-gray-400 transition duration-200\",\n              children: \"\\u2190 Sebelumnya\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 652,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleNext,\n              className: \"px-6 py-2 bg-indigo-600 text-white font-semibold rounded-lg shadow-md hover:bg-indigo-700 transition duration-200\",\n              children: [\"Selanjutnya \", /*#__PURE__*/_jsxDEV(\"span\", {\n                \"aria-hidden\": \"true\",\n                children: \"\\u2192\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 662,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 658,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 651,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 623,\n          columnNumber: 11\n        }, this);\n      case 3:\n        // STEP 3: Terms & Signature\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-gray-800 border-b pb-2 mb-4 flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(CheckSquare, {\n              className: \"w-6 h-6 text-indigo-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 673,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Syarat & Tanda Tangan\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 674,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 672,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 p-6 rounded-lg border border-gray-200 h-64 overflow-y-scroll text-sm text-gray-700\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-bold text-lg mb-3 text-indigo-700\",\n              children: \"Syarat dan Ketentuan - Serah Terima Kendaraan di Wrap Station\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 679,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n              className: \"list-decimal list-inside space-y-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Kondisi kendaraan dapat berubah setelah pembersihan. Tim akan menginformasikan jika ada perubahan.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 681,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Status cat kendaraan (repaint/original) tidak dapat dipastikan, risiko ditanggung pemilik.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 682,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Penambahan jarak tempuh (mileage) bisa terjadi, dan bukan tanggung jawab Wrap Station.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 683,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Kerusakan/malfungsi mesin selama atau setelah pengerjaan bukan tanggung jawab Wrap Station.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 684,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Kerusakan akibat pembongkaran aksesori oleh pelanggan bukan tanggung jawab Wrap Station.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 685,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Kehilangan barang pribadi bukan tanggung jawab Wrap Station.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 686,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Wrap Station berhak melakukan tindakan teknis yang diperlukan tanpa persetujuan lebih lanjut.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 687,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Kondisi/modifikasi khusus yang tidak diinformasikan di awal dapat membatalkan garansi.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 688,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Penurunan baterai EV adalah kondisi alami, bukan tanggung jawab kami.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 689,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Estimasi pengerjaan dapat berubah karena faktor tak terduga.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 690,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 680,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 678,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start mt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              id: \"agreed\",\n              checked: formData.agreed,\n              onChange: handleAgreementChange,\n              className: \"mt-1 h-5 w-5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 696,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"agreed\",\n              className: \"ml-3 text-base text-gray-900 font-medium cursor-pointer\",\n              children: \"Saya telah membaca dan menyetujui Syarat & Ketentuan.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 703,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 695,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-bold text-gray-800 mb-2\",\n              children: \"Tanda Tangan Pelanggan\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 710,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(SignaturePad, {\n              signature: formData.signature,\n              setSignature: handleSignatureChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 711,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 709,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between pt-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handlePrev,\n              className: \"px-6 py-2 bg-gray-300 text-gray-800 font-semibold rounded-lg shadow-md hover:bg-gray-400 transition duration-200\",\n              children: \"\\u2190 Sebelumnya\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 719,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSubmit,\n              disabled: isSubmitting || !isStep3Valid(),\n              className: \"flex items-center justify-center space-x-2 px-6 py-2 bg-indigo-600 text-white font-semibold rounded-lg shadow-xl hover:bg-indigo-700 transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed\",\n              children: isSubmitting ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Loader2, {\n                  className: \"w-5 h-5 animate-spin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 732,\n                  columnNumber: 24\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Membuat PDF...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 733,\n                  columnNumber: 24\n                }, this)]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Download, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 737,\n                  columnNumber: 24\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Submit Inspection & Download PDF\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 738,\n                  columnNumber: 24\n                }, this)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 725,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 718,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 671,\n          columnNumber: 11\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Langkah Tidak Dikenal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 747,\n          columnNumber: 16\n        }, this);\n    }\n  };\n\n  // Navigasi Langkah\n  const steps = [{\n    id: 1,\n    name: 'Detail Kendaraan',\n    icon: Car\n  }, {\n    id: 2,\n    name: 'Inspeksi',\n    icon: FileText\n  }, {\n    id: 3,\n    name: 'Tanda Tangan',\n    icon: CheckSquare\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 pb-16\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"bg-white shadow-md\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8 flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(Clock, {\n            className: \"w-8 h-8 text-indigo-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 764,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl font-extrabold text-gray-900\",\n            children: \"WRAP STATION\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 765,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 763,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm font-medium text-gray-500 hidden sm:block\",\n          children: \"Inspeksi Kendaraan\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 767,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 762,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 761,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"max-w-4xl mx-auto pt-8 px-4 sm:px-6 lg:px-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"flex justify-between mb-8\",\n        \"aria-label\": \"Progress\",\n        children: steps.map(step => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `flex-1 flex flex-col items-center py-2 transition-colors duration-300 relative ${activeStep === step.id ? 'text-indigo-600' : 'text-gray-400'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `flex items-center space-x-2 ${activeStep >= step.id ? 'font-semibold' : 'font-medium'}`,\n            children: [/*#__PURE__*/_jsxDEV(step.icon, {\n              className: \"w-6 h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 787,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hidden sm:inline text-sm\",\n              children: step.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 788,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 784,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `absolute bottom-0 h-1 w-full transition-all duration-300 ${activeStep === step.id ? 'bg-indigo-600' : 'bg-gray-200'}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 794,\n            columnNumber: 15\n          }, this)]\n        }, step.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 777,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 775,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-8 rounded-xl shadow-lg\",\n        children: renderStep()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 802,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 773,\n      columnNumber: 7\n    }, this), showModal && /*#__PURE__*/_jsxDEV(Modal, {\n      message: modalMessage,\n      type: modalType,\n      onClose: () => setShowModal(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 809,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 760,\n    columnNumber: 5\n  }, this);\n};\n_s4(Dashboard, \"U9i5/TH2uYjs2cdipe+TewosgFs=\", false, function () {\n  return [usePDF];\n});\n_c7 = Dashboard;\nexport default Dashboard;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"InputGroup$React.memo\");\n$RefreshReg$(_c2, \"InputGroup\");\n$RefreshReg$(_c3, \"SignaturePad\");\n$RefreshReg$(_c4, \"InspectionItem$React.memo\");\n$RefreshReg$(_c5, \"InspectionItem\");\n$RefreshReg$(_c6, \"Modal\");\n$RefreshReg$(_c7, \"Dashboard\");","map":{"version":3,"names":["React","useState","useCallback","useRef","Car","FileText","CheckSquare","Clock","X","Trash2","Camera","Download","Loader2","jsxDEV","_jsxDEV","Fragment","_Fragment","API_URL","defaultInspectionSchema","Paint","status","notes","file","Windshield","Windows","Mirrors","Tires","Wheels","InputGroup","memo","_c","label","value","name","onChange","required","children","className","fileName","_jsxFileName","lineNumber","columnNumber","type","_c2","SignaturePad","signature","setSignature","_s","canvasRef","isDrawing","setIsDrawing","startDrawing","e","preventDefault","canvas","current","ctx","getContext","rect","getBoundingClientRect","clientX","touches","clientY","x","left","y","top","beginPath","moveTo","draw","lineTo","stroke","stopDrawing","toDataURL","useEffect","lineWidth","lineCap","strokeStyle","updateCanvasSize","parent","parentElement","width","clientWidth","height","img","Image","onload","drawImage","src","window","addEventListener","removeEventListener","passive","clearSignature","clearRect","ref","onClick","title","_c3","InspectionItem","_s2","_c4","item","details","onUpdate","showNotes","setShowNotes","fileInputRef","handleStatusChange","newStatus","handleNotesChange","target","handleFileChange","files","size","alert","reader","FileReader","onloadend","dataUrl","result","onerror","console","error","readAsDataURL","removeFile","map","s","placeholder","rows","accept","alt","_c5","Modal","message","onClose","isSuccess","isError","isLoading","_c6","usePDF","apiUrl","_s3","downloadPDF","data","log","MAX_RETRIES","response","i","fetch","method","headers","body","JSON","stringify","ok","Error","errorText","text","substring","includes","delay","Math","pow","Promise","resolve","setTimeout","blob","contentDisposition","get","filename","customer","licensePlate","Date","toLocaleDateString","replace","match","url","URL","createObjectURL","a","document","createElement","style","display","href","download","appendChild","click","revokeObjectURL","Dashboard","_s4","activeStep","setActiveStep","isSubmitting","setIsSubmitting","showModal","setShowModal","modalMessage","setModalMessage","modalType","setModalType","formData","setFormData","date","toISOString","location","firstName","lastName","phone","carBrand","carModel","color","inspection","agreed","handleCustomerChange","prev","handleInspectionUpdate","newDetails","handleSignatureChange","handleAgreementChange","checked","isStep1Valid","cust","isStep3Valid","handleNext","handlePrev","handleSubmit","errorMessage","renderStep","disabled","groups","Object","entries","groupName","items","id","htmlFor","steps","icon","step","_c7","$RefreshReg$"],"sources":["/home/ayu/Documents/project-ayu/app-wrap-station/src/dashboard.jsx"],"sourcesContent":["import React, { useState, useCallback, useRef } from 'react';\nimport { Car, FileText, CheckSquare, Clock, X, Trash2, Camera, Download, Loader2 } from 'lucide-react'; \n\n// Konfigurasi API Endpoint (Asumsi API untuk Generate PDF berjalan di port 4000)\n// CATATAN PENTING: Anda harus memiliki backend yang berjalan di port ini yang dapat menerima JSON \n// (termasuk Base64 data gambar dan tanda tangan) dan mengembalikan file PDF.\nconst API_URL = \"http://localhost:4000/api/generate-pdf\";\n\n// Skema data inspeksi default\nconst defaultInspectionSchema = {\n  Paint: { status: 'G', notes: '', file: null },\n  Windshield: { status: 'G', notes: '', file: null },\n  Windows: { status: 'G', notes: 'Windows is clean.', file: null },\n  Mirrors: { status: 'G', notes: '', file: null },\n  'Rear Window': { status: 'G', notes: '', file: null },\n  Tires: { status: 'G', notes: '', file: null },\n  Wheels: { status: 'G', notes: '', file: null },\n};\n\n// Component Input Group yang diperbarui: Lokasi sekarang bisa diedit (readOnly=false)\nconst InputGroup = React.memo(({ label, value, name, onChange, required = false }) => (\n    <div>\n        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n            {label} {required && <span className=\"text-red-500\">*</span>}\n        </label>\n        <input\n            type=\"text\"\n            name={name}\n            value={value}\n            // onChange sudah cukup untuk memastikan input berjalan normal tanpa masalah \"klik per kata\"\n            onChange={onChange}\n            className={`w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none \n                border-gray-300 focus:ring-indigo-500 focus:border-indigo-500\n            `}\n        />\n    </div>\n));\n\n\n// Component Tanda Tangan\nconst SignaturePad = ({ signature, setSignature }) => {\n  const canvasRef = useRef(null);\n  const [isDrawing, setIsDrawing] = useState(false);\n\n  // Menggunakan useCallback untuk event handler untuk stabilitas React\n  const startDrawing = useCallback((e) => {\n    e.preventDefault(); // Mencegah scrolling/default touch action\n    setIsDrawing(true);\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext('2d');\n    const rect = canvas.getBoundingClientRect();\n    \n    // Penanganan koordinat yang seragam untuk mouse dan touch\n    const clientX = e.clientX || (e.touches && e.touches[0] ? e.touches[0].clientX : 0);\n    const clientY = e.clientY || (e.touches && e.touches[0] ? e.touches[0].clientY : 0);\n    \n    const x = clientX - rect.left;\n    const y = clientY - rect.top;\n    \n    ctx.beginPath();\n    ctx.moveTo(x, y);\n  }, []);\n\n  const draw = useCallback((e) => {\n    if (!isDrawing) return;\n    e.preventDefault(); // Mencegah scrolling/default touch action\n    \n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext('2d');\n    const rect = canvas.getBoundingClientRect();\n    \n    const clientX = e.clientX || (e.touches && e.touches[0] ? e.touches[0].clientX : 0);\n    const clientY = e.clientY || (e.touches && e.touches[0] ? e.touches[0].clientY : 0);\n    \n    const x = clientX - rect.left;\n    const y = clientY - rect.top;\n    \n    ctx.lineTo(x, y);\n    ctx.stroke();\n  }, [isDrawing]);\n\n  const stopDrawing = useCallback(() => {\n    if (isDrawing) {\n      setIsDrawing(false);\n      const canvas = canvasRef.current;\n      if (canvas) {\n        // Memastikan tanda tangan tersimpan\n        setSignature(canvas.toDataURL('image/png'));\n      }\n    }\n  }, [isDrawing, setSignature]);\n\n  // Setup Canvas dan Redraw\n  React.useEffect(() => {\n    const canvas = canvasRef.current;\n    if (canvas) {\n      const ctx = canvas.getContext('2d');\n      ctx.lineWidth = 3; \n      ctx.lineCap = 'round';\n      ctx.strokeStyle = '#000';\n      \n      const updateCanvasSize = () => {\n        const parent = canvas.parentElement;\n        canvas.width = parent.clientWidth;\n        canvas.height = 200; \n        \n        // Redraw signature jika sudah ada\n        if (signature) {\n            const img = new Image();\n            img.onload = () => {\n                // Gambar ulang tanda tangan sesuai ukuran baru\n                ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n            };\n            img.src = signature;\n        }\n      };\n      \n      updateCanvasSize();\n      window.addEventListener('resize', updateCanvasSize);\n      \n      // Cleanup listener\n      return () => window.removeEventListener('resize', updateCanvasSize);\n    }\n  }, [signature]); \n\n  // Listener untuk Mouse/Touch Events\n  React.useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    \n    // MOUSE EVENTS\n    canvas.addEventListener('mousedown', startDrawing);\n    canvas.addEventListener('mousemove', draw);\n    window.addEventListener('mouseup', stopDrawing); // Listener di window untuk mencegah putus saat mouse keluar canvas\n    \n    // TOUCH EVENTS (Passive: false untuk mencegah default action seperti scrolling)\n    canvas.addEventListener('touchstart', startDrawing, { passive: false });\n    canvas.addEventListener('touchmove', draw, { passive: false });\n    window.addEventListener('touchend', stopDrawing);\n\n    return () => {\n      canvas.removeEventListener('mousedown', startDrawing);\n      canvas.removeEventListener('mousemove', draw);\n      window.removeEventListener('mouseup', stopDrawing);\n      \n      canvas.removeEventListener('touchstart', startDrawing);\n      canvas.removeEventListener('touchmove', draw);\n      window.removeEventListener('touchend', stopDrawing);\n    };\n  }, [startDrawing, draw, stopDrawing]); // isDrawing bukan dependency karena start/stop sudah menangani logic\n\n  const clearSignature = () => {\n    const canvas = canvasRef.current;\n    if (canvas) {\n        const ctx = canvas.getContext('2d');\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        setSignature(''); // Set state ke string kosong\n    }\n  };\n\n\n  return (\n    <div className=\"relative border border-gray-300 rounded-lg shadow-inner bg-white min-h-[200px]\">\n      <canvas\n        ref={canvasRef}\n        className=\"w-full h-full cursor-crosshair\"\n      />\n      <button \n        onClick={clearSignature}\n        type=\"button\"\n        className=\"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition duration-150 shadow-lg\"\n        title=\"Hapus Tanda Tangan\"\n      >\n        <X className=\"w-5 h-5\" />\n      </button>\n    </div>\n  );\n};\n\n\n// Component Item Inspeksi\nconst InspectionItem = React.memo(({ item, details, onUpdate }) => {\n  // Gunakan state lokal untuk mengontrol tampilan Note/Catatan\n  const [showNotes, setShowNotes] = useState(!!details.notes || !!details.file); // Tampilkan jika sudah ada isinya\n  const fileInputRef = useRef(null);\n\n  const handleStatusChange = (newStatus) => {\n    onUpdate(item, { ...details, status: newStatus });\n  };\n\n  const handleNotesChange = (e) => {\n    onUpdate(item, { ...details, notes: e.target.value });\n  };\n\n  const handleFileChange = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      if (file.size > 5 * 1024 * 1024) { // 5MB limit\n         alert(\"Ukuran file terlalu besar. Maksimal 5MB.\");\n         e.target.value = null; // Reset input\n         onUpdate(item, { ...details, file: null });\n         return;\n      }\n      \n      const reader = new FileReader();\n      reader.onloadend = () => {\n        // Simpan Data URL (Base64) dan nama file\n        onUpdate(item, { \n          ...details, \n          file: {\n            name: file.name,\n            dataUrl: reader.result \n          }\n        });\n        setShowNotes(true); // Pastikan notes terbuka jika file diupload\n      };\n      reader.onerror = () => {\n         console.error(\"Gagal membaca file.\");\n         onUpdate(item, { ...details, file: null });\n      };\n      \n      reader.readAsDataURL(file);\n    } else {\n      onUpdate(item, { ...details, file: null });\n    }\n  };\n\n  const removeFile = () => {\n    onUpdate(item, { ...details, file: null });\n    // Reset input file\n    if (fileInputRef.current) {\n      fileInputRef.current.value = null;\n    }\n  };\n\n  return (\n    <div className=\"bg-white p-4 rounded-lg shadow-sm border border-gray-200 mb-4\">\n      <div className=\"flex items-center justify-between\">\n        \n        {/* Item & Status Buttons (G/F/P) */}\n        <div className=\"flex items-center space-x-4\">\n          <div className=\"flex space-x-1\">\n            {['G', 'F', 'P'].map((s) => (\n              <button\n                key={s}\n                onClick={() => handleStatusChange(s)}\n                className={`w-10 h-10 text-lg font-bold rounded-lg transition duration-150 ${\n                  details.status === s \n                    ? s === 'G' ? 'bg-green-600 text-white shadow-lg' : s === 'F' ? 'bg-yellow-500 text-gray-800 shadow-lg' : 'bg-red-600 text-white shadow-lg'\n                    : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\n                }`}\n              >\n                {s}\n              </button>\n            ))}\n          </div>\n          <h3 className=\"text-lg font-semibold text-gray-800\">{item}</h3>\n        </div>\n\n        {/* Note/Toggle Button */}\n        <button\n          onClick={() => setShowNotes(!showNotes)}\n          className={`p-2 rounded-full transition duration-200 ${\n            showNotes ? 'bg-indigo-600 text-white shadow-md' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n          }`}\n          title={showNotes ? 'Sembunyikan Catatan' : 'Tampilkan Catatan'}\n        >\n          {showNotes ? <X className=\"w-5 h-5\" /> : <FileText className=\"w-5 h-5\" />}\n        </button>\n      </div>\n\n      {/* Notes & File Section */}\n      {showNotes && (\n        <div className=\"mt-4 p-4 border-t border-gray-200 bg-gray-50 rounded-lg\">\n          <textarea\n            value={details.notes}\n            onChange={handleNotesChange}\n            placeholder={`Tambahkan tulisan di note untuk ${item}...`}\n            rows=\"3\"\n            className=\"w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 resize-none text-sm\"\n          />\n          \n          <div className=\"mt-3 flex items-center justify-between\">\n            <label className=\"text-sm font-medium text-gray-700 flex items-center space-x-2 cursor-pointer bg-indigo-100 px-3 py-1.5 rounded-md hover:bg-indigo-200 transition duration-150\">\n                <Camera className=\"w-4 h-4 text-indigo-600\" />\n                <span>Pilih Foto Kerusakan</span>\n                <input \n                    type=\"file\" \n                    ref={fileInputRef}\n                    onChange={handleFileChange} \n                    className=\"hidden\" \n                    accept=\"image/*\"\n                />\n            </label>\n            \n            {details.file ? (\n              <div className=\"flex items-center space-x-2 text-sm text-gray-600\">\n                <span className=\"truncate max-w-xs font-medium\">{details.file.name}</span>\n                <button onClick={removeFile} type=\"button\" className=\"text-red-500 hover:text-red-700 p-1 rounded-full bg-red-100\">\n                  <Trash2 className=\"w-4 h-4\" />\n                </button>\n              </div>\n            ) : (\n              <span className=\"text-sm text-gray-500 italic\">Maksimal 5MB.</span>\n            )}\n          </div>\n          {details.file && details.file.dataUrl && (\n             <img src={details.file.dataUrl} alt=\"Preview Foto Kerusakan\" className=\"mt-3 w-40 h-40 object-cover rounded-md border border-gray-300 shadow-md\" />\n          )}\n        </div>\n      )}\n    </div>\n  );\n});\n\n\n// Custom Modal Component\nconst Modal = ({ message, type, onClose }) => {\n    const isSuccess = type === 'success';\n    const isError = type === 'error';\n    const isLoading = type === 'loading';\n\n    return (\n      <div className=\"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50 p-4\">\n        <div className=\"bg-white p-8 rounded-xl shadow-2xl w-full max-w-sm text-center transform transition-all duration-300 scale-100\">\n          \n          <div className={`mx-auto w-16 h-16 rounded-full flex items-center justify-center mb-4 ${\n             isSuccess ? 'bg-green-100' : isError ? 'bg-red-100' : 'bg-indigo-100'\n          }`}>\n            {isLoading ? (\n               <Loader2 className=\"w-8 h-8 text-indigo-600 animate-spin\" />\n            ) : isSuccess ? (\n              <CheckSquare className=\"w-8 h-8 text-green-600\" />\n            ) : (\n              <X className=\"w-8 h-8 text-red-600\" />\n            )}\n          </div>\n          \n          <h3 className=\"text-xl font-bold mb-2 text-gray-800\">\n            {isLoading ? 'Processing...' : isSuccess ? 'Sukses' : 'Error'}\n          </h3>\n          <p className=\"text-gray-600 mb-6\">{message}</p>\n\n          {!isLoading && (\n            <button\n              onClick={onClose}\n              className={`w-full py-2 rounded-lg font-semibold transition duration-200 ${\n                isSuccess ? 'bg-indigo-600 hover:bg-indigo-700 text-white shadow-md' : 'bg-red-500 hover:bg-red-600 text-white shadow-md'\n              }`}\n            >\n              OK\n            </button>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n// Hook kustom untuk menangani logika fetch dan download PDF\nconst usePDF = ({ apiUrl }) => {\n    \n    // Fungsi untuk mengunduh PDF\n    const downloadPDF = useCallback(async (data) => {\n        try {\n            console.log(\"Mengirim data inspeksi ke backend...\");\n            // Logika retri (Exponential Backoff) untuk koneksi yang tidak stabil\n            const MAX_RETRIES = 3;\n            let response;\n            \n            for (let i = 0; i < MAX_RETRIES; i++) {\n                try {\n                    response = await fetch(apiUrl, {\n                        method: 'POST',\n                        headers: {\n                            'Content-Type': 'application/json',\n                            // Menambahkan header untuk memberi tahu backend tentang batasan ukuran file\n                            // Catatan: Header ini hanya bersifat informasi dan harus diimplementasikan\n                            // di backend Anda (misalnya, di Nginx atau Express body-parser limit).\n                            'X-Max-Payload-Size': '5MB' \n                        },\n                        body: JSON.stringify(data),\n                    });\n                    \n                    if (response.ok) {\n                        break; // Sukses, keluar dari loop retry\n                    } else if (response.status === 413) {\n                         // Payload Too Large\n                         throw new Error(`Ukuran data terlalu besar. Harap periksa ukuran file gambar Anda.`);\n                    } else if (i === MAX_RETRIES - 1) {\n                         // Setelah percobaan terakhir, jika masih gagal\n                         const errorText = await response.text();\n                         throw new Error(`Server error (${response.status}): ${errorText.substring(0, 100)}...`);\n                    }\n\n                } catch (error) {\n                    if (i === MAX_RETRIES - 1 || error.message.includes(\"Ukuran data terlalu besar\")) {\n                        throw error; // Melemparkan error ukuran file atau error terakhir\n                    }\n                    console.error(`Attempt ${i+1} failed:`, error.message);\n                    // Tunggu sebelum percobaan berikutnya\n                    const delay = Math.pow(2, i) * 1000; // 1s, 2s, 4s\n                    await new Promise(resolve => setTimeout(resolve, delay));\n                }\n            }\n\n\n            // Dapatkan blob PDF dari respons\n            const blob = await response.blob();\n            \n            // Dapatkan nama file dari header Content-Disposition jika tersedia\n            const contentDisposition = response.headers.get('Content-Disposition');\n            let filename = `Inspection_Report_${data.customer.licensePlate || 'New'}_${new Date().toLocaleDateString('id-ID').replace(/\\//g, '-')}.pdf`;\n            if (contentDisposition) {\n                const match = contentDisposition.match(/filename=\"(.+)\"/);\n                if (match && match[1]) {\n                    filename = match[1];\n                }\n            }\n\n            // Buat URL objek dan link download\n            const url = window.URL.createObjectURL(blob);\n            const a = document.createElement('a');\n            a.style.display = 'none';\n            a.href = url;\n            a.download = filename;\n            \n            // Pemicu download\n            document.body.appendChild(a);\n            a.click();\n            window.URL.revokeObjectURL(url);\n            \n            console.log(`PDF berhasil diunduh: ${filename}`);\n            return filename; // Kembalikan nama file jika diperlukan\n            \n        } catch (error) {\n            console.error(\"Error dalam proses download PDF:\", error);\n            throw new Error(`Gagal mengunduh PDF: ${error.message}`);\n        }\n    }, [apiUrl]);\n\n    return { downloadPDF };\n};\n\n\n// Component Utama Dashboard\nconst Dashboard = () => {\n  const [activeStep, setActiveStep] = useState(1);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [modalMessage, setModalMessage] = useState('');\n  const [modalType, setModalType] = useState('success'); // 'success', 'error', 'loading'\n\n  const [formData, setFormData] = useState(() => ({\n    date: new Date().toISOString(),\n    customer: {\n      location: 'Wrap Station Medan', // Dapat diubah\n      firstName: '',\n      lastName: '',\n      phone: '',\n      carBrand: '',\n      carModel: '',\n      color: '',\n      licensePlate: '',\n    },\n    inspection: defaultInspectionSchema,\n    agreed: false,\n    signature: '',\n  }));\n\n  // Kustom hook untuk logika Fetch PDF\n  const { downloadPDF } = usePDF({ apiUrl: API_URL });\n\n  const handleCustomerChange = useCallback((e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      customer: {\n        ...prev.customer,\n        [name]: value,\n      },\n    }));\n  }, []);\n\n  const handleInspectionUpdate = useCallback((item, newDetails) => {\n    setFormData(prev => ({\n      ...prev,\n      inspection: {\n        ...prev.inspection,\n        [item]: newDetails,\n      },\n    }));\n  }, []);\n\n  const handleSignatureChange = useCallback((dataUrl) => {\n    setFormData(prev => ({ ...prev, signature: dataUrl }));\n  }, []);\n\n  const handleAgreementChange = useCallback((e) => {\n    setFormData(prev => ({ ...prev, agreed: e.target.checked }));\n  }, []);\n\n  const isStep1Valid = () => {\n    const cust = formData.customer;\n    // Pengecekan sederhana bahwa field wajib tidak kosong\n    return cust.firstName && cust.lastName && cust.phone && cust.carBrand && cust.carModel && cust.licensePlate && cust.location;\n  };\n\n  const isStep3Valid = () => {\n    return formData.agreed && formData.signature;\n  };\n\n  const handleNext = () => {\n    if (activeStep === 1 && !isStep1Valid()) {\n      setModalMessage('Harap isi semua detail pelanggan dan kendaraan wajib yang bertanda (*).');\n      setModalType('error');\n      setShowModal(true);\n      return;\n    }\n    setActiveStep(prev => prev + 1);\n  };\n\n  const handlePrev = () => {\n    setActiveStep(prev => prev - 1);\n  };\n\n  const handleSubmit = async () => {\n    if (!isStep3Valid()) {\n      setModalMessage('Anda harus menandatangani dan menyetujui Syarat & Ketentuan.');\n      setModalType('error');\n      setShowModal(true);\n      return;\n    }\n\n    setIsSubmitting(true);\n    setModalMessage('Membuat PDF...');\n    setModalType('loading'); \n    setShowModal(true);\n\n    try {\n      await downloadPDF(formData);\n\n      setModalMessage('Inspeksi Berhasil Ditambahkan dan PDF Diunduh!');\n      setModalType('success');\n      \n      // Reset Form Data setelah sukses\n      setFormData({\n        date: new Date().toISOString(),\n        customer: {\n          location: 'Wrap Station Medan',\n          firstName: '',\n          lastName: '',\n          phone: '',\n          carBrand: '',\n          carModel: '',\n          color: '',\n          licensePlate: '',\n        },\n        inspection: defaultInspectionSchema,\n        agreed: false,\n        signature: '',\n      });\n      setActiveStep(1); \n      \n    } catch (error) {\n      console.error('Error saat submit/mengunduh PDF:', error);\n      let errorMessage = error.message || 'Periksa koneksi server.';\n      if (errorMessage.includes('Ukuran data terlalu besar')) {\n          errorMessage = 'Gagal: Ukuran data (termasuk gambar) melebihi batas. Harap perkecil ukuran foto atau batasi jumlahnya.';\n      }\n      setModalMessage(`Gagal mengunduh PDF: ${errorMessage}`);\n      setModalType('error');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n\n  const renderStep = () => {\n    switch (activeStep) {\n      case 1:\n        // STEP 1: Customer Details\n        return (\n          <div className=\"space-y-6\">\n            <h2 className=\"text-2xl font-bold text-gray-800 border-b pb-2 mb-4 flex items-center space-x-2\">\n                <Car className=\"w-6 h-6 text-indigo-600\" />\n                <span>Detail Pelanggan & Kendaraan</span>\n            </h2>\n            \n            <InputGroup label=\"Lokasi\" value={formData.customer.location} name=\"location\" onChange={handleCustomerChange} required={true}/>\n            <InputGroup label=\"Nama Depan Pelanggan\" value={formData.customer.firstName} name=\"firstName\" onChange={handleCustomerChange} required={true}/>\n            <InputGroup label=\"Nama Belakang Pelanggan\" value={formData.customer.lastName} name=\"lastName\" onChange={handleCustomerChange} required={true}/>\n            <InputGroup label=\"Nomor Telepon Pelanggan\" value={formData.customer.phone} name=\"phone\" onChange={handleCustomerChange} required={true}/>\n            <InputGroup label=\"Merek Mobil\" value={formData.customer.carBrand} name=\"carBrand\" onChange={handleCustomerChange} required={true}/>\n            <InputGroup label=\"Model Mobil\" value={formData.customer.carModel} name=\"carModel\" onChange={handleCustomerChange} required={true}/>\n            <InputGroup label=\"Warna\" value={formData.customer.color} name=\"color\" onChange={handleCustomerChange}/>\n            <InputGroup label=\"Plat Nomor\" value={formData.customer.licensePlate} name=\"licensePlate\" onChange={handleCustomerChange} required={true}/>\n            \n            <div className=\"flex justify-end pt-4\">\n              <button \n                onClick={handleNext} \n                disabled={!isStep1Valid()}\n                className=\"px-6 py-2 bg-indigo-600 text-white font-semibold rounded-lg shadow-md hover:bg-indigo-700 transition duration-200 disabled:opacity-50\"\n              >\n                Selanjutnya <span aria-hidden=\"true\">&rarr;</span>\n              </button>\n            </div>\n          </div>\n        );\n\n      case 2:\n        // STEP 2: Inspection\n        \n        // Group items for better UI layout\n        const groups = {\n          'Body Paint': ['Paint'],\n          'Glass': ['Windshield', 'Windows', 'Mirrors', 'Rear Window'],\n          'Wheels & Tires': ['Tires', 'Wheels'],\n        };\n\n        return (\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-800 border-b pb-2 mb-4 flex items-center space-x-2\">\n                <FileText className=\"w-6 h-6 text-indigo-600\" />\n                <span>Detail Inspeksi</span>\n            </h2>\n            \n            <div className=\"flex items-center space-x-4 mb-6 text-sm font-semibold p-3 bg-gray-100 rounded-lg\">\n                <span className=\"text-green-600\">G = Baik (Good)</span>\n                <span className=\"text-yellow-500\">F = Cukup (Fair)</span>\n                <span className=\"text-red-600\">P = Buruk (Poor)</span>\n            </div>\n\n            {Object.entries(groups).map(([groupName, items]) => (\n                <div key={groupName} className=\"mb-8\">\n                    <h3 className=\"text-xl font-bold text-indigo-700 mb-4\">{groupName}</h3>\n                    <div className=\"space-y-4\">\n                        {items.map(item => (\n                            <InspectionItem \n                                key={item}\n                                item={item} \n                                details={formData.inspection[item]} \n                                onUpdate={handleInspectionUpdate}\n                            />\n                        ))}\n                    </div>\n                </div>\n            ))}\n\n            <div className=\"flex justify-between pt-4\">\n              <button \n                onClick={handlePrev}\n                className=\"px-6 py-2 bg-gray-300 text-gray-800 font-semibold rounded-lg shadow-md hover:bg-gray-400 transition duration-200\"\n              >\n                &larr; Sebelumnya\n              </button>\n              <button \n                onClick={handleNext} \n                className=\"px-6 py-2 bg-indigo-600 text-white font-semibold rounded-lg shadow-md hover:bg-indigo-700 transition duration-200\"\n              >\n                Selanjutnya <span aria-hidden=\"true\">&rarr;</span>\n              </button>\n            </div>\n          </div>\n        );\n\n      case 3:\n        // STEP 3: Terms & Signature\n        return (\n          <div className=\"space-y-6\">\n            <h2 className=\"text-2xl font-bold text-gray-800 border-b pb-2 mb-4 flex items-center space-x-2\">\n                <CheckSquare className=\"w-6 h-6 text-indigo-600\" />\n                <span>Syarat & Tanda Tangan</span>\n            </h2>\n            \n            {/* Terms and Conditions */}\n            <div className=\"bg-gray-50 p-6 rounded-lg border border-gray-200 h-64 overflow-y-scroll text-sm text-gray-700\">\n                <h3 className=\"font-bold text-lg mb-3 text-indigo-700\">Syarat dan Ketentuan - Serah Terima Kendaraan di Wrap Station</h3>\n                <ol className=\"list-decimal list-inside space-y-2\">\n                    <li>Kondisi kendaraan dapat berubah setelah pembersihan. Tim akan menginformasikan jika ada perubahan.</li>\n                    <li>Status cat kendaraan (repaint/original) tidak dapat dipastikan, risiko ditanggung pemilik.</li>\n                    <li>Penambahan jarak tempuh (mileage) bisa terjadi, dan bukan tanggung jawab Wrap Station.</li>\n                    <li>Kerusakan/malfungsi mesin selama atau setelah pengerjaan bukan tanggung jawab Wrap Station.</li>\n                    <li>Kerusakan akibat pembongkaran aksesori oleh pelanggan bukan tanggung jawab Wrap Station.</li>\n                    <li>Kehilangan barang pribadi bukan tanggung jawab Wrap Station.</li>\n                    <li>Wrap Station berhak melakukan tindakan teknis yang diperlukan tanpa persetujuan lebih lanjut.</li>\n                    <li>Kondisi/modifikasi khusus yang tidak diinformasikan di awal dapat membatalkan garansi.</li>\n                    <li>Penurunan baterai EV adalah kondisi alami, bukan tanggung jawab kami.</li>\n                    <li>Estimasi pengerjaan dapat berubah karena faktor tak terduga.</li>\n                </ol>\n            </div>\n\n            {/* Agreement Checkbox */}\n            <div className=\"flex items-start mt-4\">\n                <input\n                    type=\"checkbox\"\n                    id=\"agreed\"\n                    checked={formData.agreed}\n                    onChange={handleAgreementChange}\n                    className=\"mt-1 h-5 w-5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500\"\n                />\n                <label htmlFor=\"agreed\" className=\"ml-3 text-base text-gray-900 font-medium cursor-pointer\">\n                    Saya telah membaca dan menyetujui Syarat & Ketentuan.\n                </label>\n            </div>\n\n            {/* Signature Pad */}\n            <div className=\"pt-4\">\n              <h3 className=\"text-xl font-bold text-gray-800 mb-2\">Tanda Tangan Pelanggan</h3>\n              <SignaturePad \n                signature={formData.signature} \n                setSignature={handleSignatureChange} \n              />\n            </div>\n\n\n            <div className=\"flex justify-between pt-6\">\n              <button \n                onClick={handlePrev}\n                className=\"px-6 py-2 bg-gray-300 text-gray-800 font-semibold rounded-lg shadow-md hover:bg-gray-400 transition duration-200\"\n              >\n                &larr; Sebelumnya\n              </button>\n              <button \n                onClick={handleSubmit} \n                disabled={isSubmitting || !isStep3Valid()}\n                className=\"flex items-center justify-center space-x-2 px-6 py-2 bg-indigo-600 text-white font-semibold rounded-lg shadow-xl hover:bg-indigo-700 transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                 {isSubmitting ? (\n                    <>\n                       <Loader2 className=\"w-5 h-5 animate-spin\" />\n                       <span>Membuat PDF...</span>\n                    </>\n                 ) : (\n                    <>\n                       <Download className=\"w-5 h-5\" />\n                       <span>Submit Inspection & Download PDF</span>\n                    </>\n                 )}\n              </button>\n            </div>\n          </div>\n        );\n\n      default:\n        return <div>Langkah Tidak Dikenal</div>;\n    }\n  };\n\n  \n  // Navigasi Langkah\n  const steps = [\n    { id: 1, name: 'Detail Kendaraan', icon: Car },\n    { id: 2, name: 'Inspeksi', icon: FileText },\n    { id: 3, name: 'Tanda Tangan', icon: CheckSquare },\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 pb-16\">\n      <header className=\"bg-white shadow-md\">\n        <div className=\"max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8 flex justify-between items-center\">\n          <div className=\"flex items-center space-x-3\">\n            <Clock className=\"w-8 h-8 text-indigo-600\" />\n            <h1 className=\"text-2xl font-extrabold text-gray-900\">WRAP STATION</h1>\n          </div>\n          <div className=\"text-sm font-medium text-gray-500 hidden sm:block\">\n             Inspeksi Kendaraan\n          </div>\n        </div>\n      </header>\n      \n      <main className=\"max-w-4xl mx-auto pt-8 px-4 sm:px-6 lg:px-8\">\n        {/* Step Navigation */}\n        <nav className=\"flex justify-between mb-8\" aria-label=\"Progress\">\n          {steps.map((step) => (\n            <div \n              key={step.id} \n              className={`flex-1 flex flex-col items-center py-2 transition-colors duration-300 relative ${\n                activeStep === step.id ? 'text-indigo-600' : 'text-gray-400'\n              }`}\n            >\n              {/* Icon & Text */}\n              <div className={`flex items-center space-x-2 ${\n                activeStep >= step.id ? 'font-semibold' : 'font-medium'\n              }`}>\n                <step.icon className=\"w-6 h-6\" />\n                <span className=\"hidden sm:inline text-sm\">\n                  {step.name}\n                </span>\n              </div>\n              \n              {/* Bottom Indicator */}\n              <div className={`absolute bottom-0 h-1 w-full transition-all duration-300 ${\n                activeStep === step.id ? 'bg-indigo-600' : 'bg-gray-200'\n              }`}></div>\n            </div>\n          ))}\n        </nav>\n\n        {/* Form Content */}\n        <div className=\"bg-white p-8 rounded-xl shadow-lg\">\n          {renderStep()}\n        </div>\n      </main>\n\n      {/* Modal */}\n      {showModal && (\n        <Modal \n          message={modalMessage} \n          type={modalType} \n          onClose={() => setShowModal(false)}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Dashboard;"],"mappings":";;;;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,WAAW,EAAEC,MAAM,QAAQ,OAAO;AAC5D,SAASC,GAAG,EAAEC,QAAQ,EAAEC,WAAW,EAAEC,KAAK,EAAEC,CAAC,EAAEC,MAAM,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,OAAO,QAAQ,cAAc;;AAEtG;AACA;AACA;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACA,MAAMC,OAAO,GAAG,wCAAwC;;AAExD;AACA,MAAMC,uBAAuB,GAAG;EAC9BC,KAAK,EAAE;IAAEC,MAAM,EAAE,GAAG;IAAEC,KAAK,EAAE,EAAE;IAAEC,IAAI,EAAE;EAAK,CAAC;EAC7CC,UAAU,EAAE;IAAEH,MAAM,EAAE,GAAG;IAAEC,KAAK,EAAE,EAAE;IAAEC,IAAI,EAAE;EAAK,CAAC;EAClDE,OAAO,EAAE;IAAEJ,MAAM,EAAE,GAAG;IAAEC,KAAK,EAAE,mBAAmB;IAAEC,IAAI,EAAE;EAAK,CAAC;EAChEG,OAAO,EAAE;IAAEL,MAAM,EAAE,GAAG;IAAEC,KAAK,EAAE,EAAE;IAAEC,IAAI,EAAE;EAAK,CAAC;EAC/C,aAAa,EAAE;IAAEF,MAAM,EAAE,GAAG;IAAEC,KAAK,EAAE,EAAE;IAAEC,IAAI,EAAE;EAAK,CAAC;EACrDI,KAAK,EAAE;IAAEN,MAAM,EAAE,GAAG;IAAEC,KAAK,EAAE,EAAE;IAAEC,IAAI,EAAE;EAAK,CAAC;EAC7CK,MAAM,EAAE;IAAEP,MAAM,EAAE,GAAG;IAAEC,KAAK,EAAE,EAAE;IAAEC,IAAI,EAAE;EAAK;AAC/C,CAAC;;AAED;AACA,MAAMM,UAAU,gBAAG5B,KAAK,CAAC6B,IAAI,CAAAC,EAAA,GAACA,CAAC;EAAEC,KAAK;EAAEC,KAAK;EAAEC,IAAI;EAAEC,QAAQ;EAAEC,QAAQ,GAAG;AAAM,CAAC,kBAC7ErB,OAAA;EAAAsB,QAAA,gBACItB,OAAA;IAAOuB,SAAS,EAAC,8CAA8C;IAAAD,QAAA,GAC1DL,KAAK,EAAC,GAAC,EAACI,QAAQ,iBAAIrB,OAAA;MAAMuB,SAAS,EAAC,cAAc;MAAAD,QAAA,EAAC;IAAC;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACzD,CAAC,eACR3B,OAAA;IACI4B,IAAI,EAAC,MAAM;IACXT,IAAI,EAAEA,IAAK;IACXD,KAAK,EAAEA;IACP;IAAA;IACAE,QAAQ,EAAEA,QAAS;IACnBG,SAAS,EAAE;AACvB;AACA;EAAc;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAAA;EAAAH,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OACD,CACR,CAAC;;AAGF;AAAAE,GAAA,GAnBMf,UAAU;AAoBhB,MAAMgB,YAAY,GAAGA,CAAC;EAAEC,SAAS;EAAEC;AAAa,CAAC,KAAK;EAAAC,EAAA;EACpD,MAAMC,SAAS,GAAG7C,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAM,CAAC8C,SAAS,EAAEC,YAAY,CAAC,GAAGjD,QAAQ,CAAC,KAAK,CAAC;;EAEjD;EACA,MAAMkD,YAAY,GAAGjD,WAAW,CAAEkD,CAAC,IAAK;IACtCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAAC,CAAC;IACpBH,YAAY,CAAC,IAAI,CAAC;IAClB,MAAMI,MAAM,GAAGN,SAAS,CAACO,OAAO;IAChC,IAAI,CAACD,MAAM,EAAE;IACb,MAAME,GAAG,GAAGF,MAAM,CAACG,UAAU,CAAC,IAAI,CAAC;IACnC,MAAMC,IAAI,GAAGJ,MAAM,CAACK,qBAAqB,CAAC,CAAC;;IAE3C;IACA,MAAMC,OAAO,GAAGR,CAAC,CAACQ,OAAO,KAAKR,CAAC,CAACS,OAAO,IAAIT,CAAC,CAACS,OAAO,CAAC,CAAC,CAAC,GAAGT,CAAC,CAACS,OAAO,CAAC,CAAC,CAAC,CAACD,OAAO,GAAG,CAAC,CAAC;IACnF,MAAME,OAAO,GAAGV,CAAC,CAACU,OAAO,KAAKV,CAAC,CAACS,OAAO,IAAIT,CAAC,CAACS,OAAO,CAAC,CAAC,CAAC,GAAGT,CAAC,CAACS,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,GAAG,CAAC,CAAC;IAEnF,MAAMC,CAAC,GAAGH,OAAO,GAAGF,IAAI,CAACM,IAAI;IAC7B,MAAMC,CAAC,GAAGH,OAAO,GAAGJ,IAAI,CAACQ,GAAG;IAE5BV,GAAG,CAACW,SAAS,CAAC,CAAC;IACfX,GAAG,CAACY,MAAM,CAACL,CAAC,EAAEE,CAAC,CAAC;EAClB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMI,IAAI,GAAGnE,WAAW,CAAEkD,CAAC,IAAK;IAC9B,IAAI,CAACH,SAAS,EAAE;IAChBG,CAAC,CAACC,cAAc,CAAC,CAAC,CAAC,CAAC;;IAEpB,MAAMC,MAAM,GAAGN,SAAS,CAACO,OAAO;IAChC,IAAI,CAACD,MAAM,EAAE;IACb,MAAME,GAAG,GAAGF,MAAM,CAACG,UAAU,CAAC,IAAI,CAAC;IACnC,MAAMC,IAAI,GAAGJ,MAAM,CAACK,qBAAqB,CAAC,CAAC;IAE3C,MAAMC,OAAO,GAAGR,CAAC,CAACQ,OAAO,KAAKR,CAAC,CAACS,OAAO,IAAIT,CAAC,CAACS,OAAO,CAAC,CAAC,CAAC,GAAGT,CAAC,CAACS,OAAO,CAAC,CAAC,CAAC,CAACD,OAAO,GAAG,CAAC,CAAC;IACnF,MAAME,OAAO,GAAGV,CAAC,CAACU,OAAO,KAAKV,CAAC,CAACS,OAAO,IAAIT,CAAC,CAACS,OAAO,CAAC,CAAC,CAAC,GAAGT,CAAC,CAACS,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,GAAG,CAAC,CAAC;IAEnF,MAAMC,CAAC,GAAGH,OAAO,GAAGF,IAAI,CAACM,IAAI;IAC7B,MAAMC,CAAC,GAAGH,OAAO,GAAGJ,IAAI,CAACQ,GAAG;IAE5BV,GAAG,CAACc,MAAM,CAACP,CAAC,EAAEE,CAAC,CAAC;IAChBT,GAAG,CAACe,MAAM,CAAC,CAAC;EACd,CAAC,EAAE,CAACtB,SAAS,CAAC,CAAC;EAEf,MAAMuB,WAAW,GAAGtE,WAAW,CAAC,MAAM;IACpC,IAAI+C,SAAS,EAAE;MACbC,YAAY,CAAC,KAAK,CAAC;MACnB,MAAMI,MAAM,GAAGN,SAAS,CAACO,OAAO;MAChC,IAAID,MAAM,EAAE;QACV;QACAR,YAAY,CAACQ,MAAM,CAACmB,SAAS,CAAC,WAAW,CAAC,CAAC;MAC7C;IACF;EACF,CAAC,EAAE,CAACxB,SAAS,EAAEH,YAAY,CAAC,CAAC;;EAE7B;EACA9C,KAAK,CAAC0E,SAAS,CAAC,MAAM;IACpB,MAAMpB,MAAM,GAAGN,SAAS,CAACO,OAAO;IAChC,IAAID,MAAM,EAAE;MACV,MAAME,GAAG,GAAGF,MAAM,CAACG,UAAU,CAAC,IAAI,CAAC;MACnCD,GAAG,CAACmB,SAAS,GAAG,CAAC;MACjBnB,GAAG,CAACoB,OAAO,GAAG,OAAO;MACrBpB,GAAG,CAACqB,WAAW,GAAG,MAAM;MAExB,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;QAC7B,MAAMC,MAAM,GAAGzB,MAAM,CAAC0B,aAAa;QACnC1B,MAAM,CAAC2B,KAAK,GAAGF,MAAM,CAACG,WAAW;QACjC5B,MAAM,CAAC6B,MAAM,GAAG,GAAG;;QAEnB;QACA,IAAItC,SAAS,EAAE;UACX,MAAMuC,GAAG,GAAG,IAAIC,KAAK,CAAC,CAAC;UACvBD,GAAG,CAACE,MAAM,GAAG,MAAM;YACf;YACA9B,GAAG,CAAC+B,SAAS,CAACH,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE9B,MAAM,CAAC2B,KAAK,EAAE3B,MAAM,CAAC6B,MAAM,CAAC;UACzD,CAAC;UACDC,GAAG,CAACI,GAAG,GAAG3C,SAAS;QACvB;MACF,CAAC;MAEDiC,gBAAgB,CAAC,CAAC;MAClBW,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAEZ,gBAAgB,CAAC;;MAEnD;MACA,OAAO,MAAMW,MAAM,CAACE,mBAAmB,CAAC,QAAQ,EAAEb,gBAAgB,CAAC;IACrE;EACF,CAAC,EAAE,CAACjC,SAAS,CAAC,CAAC;;EAEf;EACA7C,KAAK,CAAC0E,SAAS,CAAC,MAAM;IACpB,MAAMpB,MAAM,GAAGN,SAAS,CAACO,OAAO;IAChC,IAAI,CAACD,MAAM,EAAE;;IAEb;IACAA,MAAM,CAACoC,gBAAgB,CAAC,WAAW,EAAEvC,YAAY,CAAC;IAClDG,MAAM,CAACoC,gBAAgB,CAAC,WAAW,EAAErB,IAAI,CAAC;IAC1CoB,MAAM,CAACC,gBAAgB,CAAC,SAAS,EAAElB,WAAW,CAAC,CAAC,CAAC;;IAEjD;IACAlB,MAAM,CAACoC,gBAAgB,CAAC,YAAY,EAAEvC,YAAY,EAAE;MAAEyC,OAAO,EAAE;IAAM,CAAC,CAAC;IACvEtC,MAAM,CAACoC,gBAAgB,CAAC,WAAW,EAAErB,IAAI,EAAE;MAAEuB,OAAO,EAAE;IAAM,CAAC,CAAC;IAC9DH,MAAM,CAACC,gBAAgB,CAAC,UAAU,EAAElB,WAAW,CAAC;IAEhD,OAAO,MAAM;MACXlB,MAAM,CAACqC,mBAAmB,CAAC,WAAW,EAAExC,YAAY,CAAC;MACrDG,MAAM,CAACqC,mBAAmB,CAAC,WAAW,EAAEtB,IAAI,CAAC;MAC7CoB,MAAM,CAACE,mBAAmB,CAAC,SAAS,EAAEnB,WAAW,CAAC;MAElDlB,MAAM,CAACqC,mBAAmB,CAAC,YAAY,EAAExC,YAAY,CAAC;MACtDG,MAAM,CAACqC,mBAAmB,CAAC,WAAW,EAAEtB,IAAI,CAAC;MAC7CoB,MAAM,CAACE,mBAAmB,CAAC,UAAU,EAAEnB,WAAW,CAAC;IACrD,CAAC;EACH,CAAC,EAAE,CAACrB,YAAY,EAAEkB,IAAI,EAAEG,WAAW,CAAC,CAAC,CAAC,CAAC;;EAEvC,MAAMqB,cAAc,GAAGA,CAAA,KAAM;IAC3B,MAAMvC,MAAM,GAAGN,SAAS,CAACO,OAAO;IAChC,IAAID,MAAM,EAAE;MACR,MAAME,GAAG,GAAGF,MAAM,CAACG,UAAU,CAAC,IAAI,CAAC;MACnCD,GAAG,CAACsC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAExC,MAAM,CAAC2B,KAAK,EAAE3B,MAAM,CAAC6B,MAAM,CAAC;MAChDrC,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;IACtB;EACF,CAAC;EAGD,oBACEhC,OAAA;IAAKuB,SAAS,EAAC,gFAAgF;IAAAD,QAAA,gBAC7FtB,OAAA;MACEiF,GAAG,EAAE/C,SAAU;MACfX,SAAS,EAAC;IAAgC;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3C,CAAC,eACF3B,OAAA;MACEkF,OAAO,EAAEH,cAAe;MACxBnD,IAAI,EAAC,QAAQ;MACbL,SAAS,EAAC,kHAAkH;MAC5H4D,KAAK,EAAC,oBAAoB;MAAA7D,QAAA,eAE1BtB,OAAA,CAACN,CAAC;QAAC6B,SAAS,EAAC;MAAS;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnB,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV,CAAC;;AAGD;AAAAM,EAAA,CA9IMH,YAAY;AAAAsD,GAAA,GAAZtD,YAAY;AA+IlB,MAAMuD,cAAc,gBAAAC,GAAA,cAAGpG,KAAK,CAAC6B,IAAI,CAAAwE,GAAA,GAAAD,GAAA,CAAC,CAAC;EAAEE,IAAI;EAAEC,OAAO;EAAEC;AAAS,CAAC,KAAK;EAAAJ,GAAA;EACjE;EACA,MAAM,CAACK,SAAS,EAAEC,YAAY,CAAC,GAAGzG,QAAQ,CAAC,CAAC,CAACsG,OAAO,CAAClF,KAAK,IAAI,CAAC,CAACkF,OAAO,CAACjF,IAAI,CAAC,CAAC,CAAC;EAC/E,MAAMqF,YAAY,GAAGxG,MAAM,CAAC,IAAI,CAAC;EAEjC,MAAMyG,kBAAkB,GAAIC,SAAS,IAAK;IACxCL,QAAQ,CAACF,IAAI,EAAE;MAAE,GAAGC,OAAO;MAAEnF,MAAM,EAAEyF;IAAU,CAAC,CAAC;EACnD,CAAC;EAED,MAAMC,iBAAiB,GAAI1D,CAAC,IAAK;IAC/BoD,QAAQ,CAACF,IAAI,EAAE;MAAE,GAAGC,OAAO;MAAElF,KAAK,EAAE+B,CAAC,CAAC2D,MAAM,CAAC/E;IAAM,CAAC,CAAC;EACvD,CAAC;EAED,MAAMgF,gBAAgB,GAAI5D,CAAC,IAAK;IAC9B,MAAM9B,IAAI,GAAG8B,CAAC,CAAC2D,MAAM,CAACE,KAAK,CAAC,CAAC,CAAC;IAC9B,IAAI3F,IAAI,EAAE;MACR,IAAIA,IAAI,CAAC4F,IAAI,GAAG,CAAC,GAAG,IAAI,GAAG,IAAI,EAAE;QAAE;QAChCC,KAAK,CAAC,0CAA0C,CAAC;QACjD/D,CAAC,CAAC2D,MAAM,CAAC/E,KAAK,GAAG,IAAI,CAAC,CAAC;QACvBwE,QAAQ,CAACF,IAAI,EAAE;UAAE,GAAGC,OAAO;UAAEjF,IAAI,EAAE;QAAK,CAAC,CAAC;QAC1C;MACH;MAEA,MAAM8F,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;MAC/BD,MAAM,CAACE,SAAS,GAAG,MAAM;QACvB;QACAd,QAAQ,CAACF,IAAI,EAAE;UACb,GAAGC,OAAO;UACVjF,IAAI,EAAE;YACJW,IAAI,EAAEX,IAAI,CAACW,IAAI;YACfsF,OAAO,EAAEH,MAAM,CAACI;UAClB;QACF,CAAC,CAAC;QACFd,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC;MACtB,CAAC;MACDU,MAAM,CAACK,OAAO,GAAG,MAAM;QACpBC,OAAO,CAACC,KAAK,CAAC,qBAAqB,CAAC;QACpCnB,QAAQ,CAACF,IAAI,EAAE;UAAE,GAAGC,OAAO;UAAEjF,IAAI,EAAE;QAAK,CAAC,CAAC;MAC7C,CAAC;MAED8F,MAAM,CAACQ,aAAa,CAACtG,IAAI,CAAC;IAC5B,CAAC,MAAM;MACLkF,QAAQ,CAACF,IAAI,EAAE;QAAE,GAAGC,OAAO;QAAEjF,IAAI,EAAE;MAAK,CAAC,CAAC;IAC5C;EACF,CAAC;EAED,MAAMuG,UAAU,GAAGA,CAAA,KAAM;IACvBrB,QAAQ,CAACF,IAAI,EAAE;MAAE,GAAGC,OAAO;MAAEjF,IAAI,EAAE;IAAK,CAAC,CAAC;IAC1C;IACA,IAAIqF,YAAY,CAACpD,OAAO,EAAE;MACxBoD,YAAY,CAACpD,OAAO,CAACvB,KAAK,GAAG,IAAI;IACnC;EACF,CAAC;EAED,oBACElB,OAAA;IAAKuB,SAAS,EAAC,+DAA+D;IAAAD,QAAA,gBAC5EtB,OAAA;MAAKuB,SAAS,EAAC,mCAAmC;MAAAD,QAAA,gBAGhDtB,OAAA;QAAKuB,SAAS,EAAC,6BAA6B;QAAAD,QAAA,gBAC1CtB,OAAA;UAAKuB,SAAS,EAAC,gBAAgB;UAAAD,QAAA,EAC5B,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC0F,GAAG,CAAEC,CAAC,iBACrBjH,OAAA;YAEEkF,OAAO,EAAEA,CAAA,KAAMY,kBAAkB,CAACmB,CAAC,CAAE;YACrC1F,SAAS,EAAE,kEACTkE,OAAO,CAACnF,MAAM,KAAK2G,CAAC,GAChBA,CAAC,KAAK,GAAG,GAAG,mCAAmC,GAAGA,CAAC,KAAK,GAAG,GAAG,uCAAuC,GAAG,iCAAiC,GACzI,6CAA6C,EAChD;YAAA3F,QAAA,EAEF2F;UAAC,GARGA,CAAC;YAAAzF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OASA,CACT;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACN3B,OAAA;UAAIuB,SAAS,EAAC,qCAAqC;UAAAD,QAAA,EAAEkE;QAAI;UAAAhE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5D,CAAC,eAGN3B,OAAA;QACEkF,OAAO,EAAEA,CAAA,KAAMU,YAAY,CAAC,CAACD,SAAS,CAAE;QACxCpE,SAAS,EAAE,4CACToE,SAAS,GAAG,oCAAoC,GAAG,6CAA6C,EAC/F;QACHR,KAAK,EAAEQ,SAAS,GAAG,qBAAqB,GAAG,mBAAoB;QAAArE,QAAA,EAE9DqE,SAAS,gBAAG3F,OAAA,CAACN,CAAC;UAAC6B,SAAS,EAAC;QAAS;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,gBAAG3B,OAAA,CAACT,QAAQ;UAACgC,SAAS,EAAC;QAAS;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,EAGLgE,SAAS,iBACR3F,OAAA;MAAKuB,SAAS,EAAC,yDAAyD;MAAAD,QAAA,gBACtEtB,OAAA;QACEkB,KAAK,EAAEuE,OAAO,CAAClF,KAAM;QACrBa,QAAQ,EAAE4E,iBAAkB;QAC5BkB,WAAW,EAAE,mCAAmC1B,IAAI,KAAM;QAC1D2B,IAAI,EAAC,GAAG;QACR5F,SAAS,EAAC;MAAgH;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3H,CAAC,eAEF3B,OAAA;QAAKuB,SAAS,EAAC,wCAAwC;QAAAD,QAAA,gBACrDtB,OAAA;UAAOuB,SAAS,EAAC,+JAA+J;UAAAD,QAAA,gBAC5KtB,OAAA,CAACJ,MAAM;YAAC2B,SAAS,EAAC;UAAyB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC9C3B,OAAA;YAAAsB,QAAA,EAAM;UAAoB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACjC3B,OAAA;YACI4B,IAAI,EAAC,MAAM;YACXqD,GAAG,EAAEY,YAAa;YAClBzE,QAAQ,EAAE8E,gBAAiB;YAC3B3E,SAAS,EAAC,QAAQ;YAClB6F,MAAM,EAAC;UAAS;YAAA5F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,EAEP8D,OAAO,CAACjF,IAAI,gBACXR,OAAA;UAAKuB,SAAS,EAAC,mDAAmD;UAAAD,QAAA,gBAChEtB,OAAA;YAAMuB,SAAS,EAAC,+BAA+B;YAAAD,QAAA,EAAEmE,OAAO,CAACjF,IAAI,CAACW;UAAI;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC1E3B,OAAA;YAAQkF,OAAO,EAAE6B,UAAW;YAACnF,IAAI,EAAC,QAAQ;YAACL,SAAS,EAAC,6DAA6D;YAAAD,QAAA,eAChHtB,OAAA,CAACL,MAAM;cAAC4B,SAAS,EAAC;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,gBAEN3B,OAAA;UAAMuB,SAAS,EAAC,8BAA8B;UAAAD,QAAA,EAAC;QAAa;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CACnE;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,EACL8D,OAAO,CAACjF,IAAI,IAAIiF,OAAO,CAACjF,IAAI,CAACiG,OAAO,iBAClCzG,OAAA;QAAK0E,GAAG,EAAEe,OAAO,CAACjF,IAAI,CAACiG,OAAQ;QAACY,GAAG,EAAC,wBAAwB;QAAC9F,SAAS,EAAC;MAAyE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CACpJ;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC,kCAAC;;AAGF;AAAA2F,GAAA,GAvIMjC,cAAc;AAwIpB,MAAMkC,KAAK,GAAGA,CAAC;EAAEC,OAAO;EAAE5F,IAAI;EAAE6F;AAAQ,CAAC,KAAK;EAC1C,MAAMC,SAAS,GAAG9F,IAAI,KAAK,SAAS;EACpC,MAAM+F,OAAO,GAAG/F,IAAI,KAAK,OAAO;EAChC,MAAMgG,SAAS,GAAGhG,IAAI,KAAK,SAAS;EAEpC,oBACE5B,OAAA;IAAKuB,SAAS,EAAC,mFAAmF;IAAAD,QAAA,eAChGtB,OAAA;MAAKuB,SAAS,EAAC,gHAAgH;MAAAD,QAAA,gBAE7HtB,OAAA;QAAKuB,SAAS,EAAE,wEACbmG,SAAS,GAAG,cAAc,GAAGC,OAAO,GAAG,YAAY,GAAG,eAAe,EACrE;QAAArG,QAAA,EACAsG,SAAS,gBACP5H,OAAA,CAACF,OAAO;UAACyB,SAAS,EAAC;QAAsC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,GAC3D+F,SAAS,gBACX1H,OAAA,CAACR,WAAW;UAAC+B,SAAS,EAAC;QAAwB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,gBAElD3B,OAAA,CAACN,CAAC;UAAC6B,SAAS,EAAC;QAAsB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MACtC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAEN3B,OAAA;QAAIuB,SAAS,EAAC,sCAAsC;QAAAD,QAAA,EACjDsG,SAAS,GAAG,eAAe,GAAGF,SAAS,GAAG,QAAQ,GAAG;MAAO;QAAAlG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3D,CAAC,eACL3B,OAAA;QAAGuB,SAAS,EAAC,oBAAoB;QAAAD,QAAA,EAAEkG;MAAO;QAAAhG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAE9C,CAACiG,SAAS,iBACT5H,OAAA;QACEkF,OAAO,EAAEuC,OAAQ;QACjBlG,SAAS,EAAE,gEACTmG,SAAS,GAAG,wDAAwD,GAAG,kDAAkD,EACxH;QAAApG,QAAA,EACJ;MAED;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CACT;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;;AAEH;AAAAkG,GAAA,GAzCMN,KAAK;AA0CX,MAAMO,MAAM,GAAGA,CAAC;EAAEC;AAAO,CAAC,KAAK;EAAAC,GAAA;EAE3B;EACA,MAAMC,WAAW,GAAG7I,WAAW,CAAC,MAAO8I,IAAI,IAAK;IAC5C,IAAI;MACAtB,OAAO,CAACuB,GAAG,CAAC,sCAAsC,CAAC;MACnD;MACA,MAAMC,WAAW,GAAG,CAAC;MACrB,IAAIC,QAAQ;MAEZ,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,WAAW,EAAEE,CAAC,EAAE,EAAE;QAClC,IAAI;UACAD,QAAQ,GAAG,MAAME,KAAK,CAACR,MAAM,EAAE;YAC3BS,MAAM,EAAE,MAAM;YACdC,OAAO,EAAE;cACL,cAAc,EAAE,kBAAkB;cAClC;cACA;cACA;cACA,oBAAoB,EAAE;YAC1B,CAAC;YACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACV,IAAI;UAC7B,CAAC,CAAC;UAEF,IAAIG,QAAQ,CAACQ,EAAE,EAAE;YACb,MAAM,CAAC;UACX,CAAC,MAAM,IAAIR,QAAQ,CAAC/H,MAAM,KAAK,GAAG,EAAE;YAC/B;YACA,MAAM,IAAIwI,KAAK,CAAC,mEAAmE,CAAC;UACzF,CAAC,MAAM,IAAIR,CAAC,KAAKF,WAAW,GAAG,CAAC,EAAE;YAC7B;YACA,MAAMW,SAAS,GAAG,MAAMV,QAAQ,CAACW,IAAI,CAAC,CAAC;YACvC,MAAM,IAAIF,KAAK,CAAC,iBAAiBT,QAAQ,CAAC/H,MAAM,MAAMyI,SAAS,CAACE,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,KAAK,CAAC;UAC5F;QAEJ,CAAC,CAAC,OAAOpC,KAAK,EAAE;UACZ,IAAIyB,CAAC,KAAKF,WAAW,GAAG,CAAC,IAAIvB,KAAK,CAACW,OAAO,CAAC0B,QAAQ,CAAC,2BAA2B,CAAC,EAAE;YAC9E,MAAMrC,KAAK,CAAC,CAAC;UACjB;UACAD,OAAO,CAACC,KAAK,CAAC,WAAWyB,CAAC,GAAC,CAAC,UAAU,EAAEzB,KAAK,CAACW,OAAO,CAAC;UACtD;UACA,MAAM2B,KAAK,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEf,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;UACrC,MAAM,IAAIgB,OAAO,CAACC,OAAO,IAAIC,UAAU,CAACD,OAAO,EAAEJ,KAAK,CAAC,CAAC;QAC5D;MACJ;;MAGA;MACA,MAAMM,IAAI,GAAG,MAAMpB,QAAQ,CAACoB,IAAI,CAAC,CAAC;;MAElC;MACA,MAAMC,kBAAkB,GAAGrB,QAAQ,CAACI,OAAO,CAACkB,GAAG,CAAC,qBAAqB,CAAC;MACtE,IAAIC,QAAQ,GAAG,qBAAqB1B,IAAI,CAAC2B,QAAQ,CAACC,YAAY,IAAI,KAAK,IAAI,IAAIC,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,OAAO,CAAC,CAACC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,MAAM;MAC3I,IAAIP,kBAAkB,EAAE;QACpB,MAAMQ,KAAK,GAAGR,kBAAkB,CAACQ,KAAK,CAAC,iBAAiB,CAAC;QACzD,IAAIA,KAAK,IAAIA,KAAK,CAAC,CAAC,CAAC,EAAE;UACnBN,QAAQ,GAAGM,KAAK,CAAC,CAAC,CAAC;QACvB;MACJ;;MAEA;MACA,MAAMC,GAAG,GAAGxF,MAAM,CAACyF,GAAG,CAACC,eAAe,CAACZ,IAAI,CAAC;MAC5C,MAAMa,CAAC,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;MACrCF,CAAC,CAACG,KAAK,CAACC,OAAO,GAAG,MAAM;MACxBJ,CAAC,CAACK,IAAI,GAAGR,GAAG;MACZG,CAAC,CAACM,QAAQ,GAAGhB,QAAQ;;MAErB;MACAW,QAAQ,CAAC7B,IAAI,CAACmC,WAAW,CAACP,CAAC,CAAC;MAC5BA,CAAC,CAACQ,KAAK,CAAC,CAAC;MACTnG,MAAM,CAACyF,GAAG,CAACW,eAAe,CAACZ,GAAG,CAAC;MAE/BvD,OAAO,CAACuB,GAAG,CAAC,yBAAyByB,QAAQ,EAAE,CAAC;MAChD,OAAOA,QAAQ,CAAC,CAAC;IAErB,CAAC,CAAC,OAAO/C,KAAK,EAAE;MACZD,OAAO,CAACC,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;MACxD,MAAM,IAAIiC,KAAK,CAAC,wBAAwBjC,KAAK,CAACW,OAAO,EAAE,CAAC;IAC5D;EACJ,CAAC,EAAE,CAACO,MAAM,CAAC,CAAC;EAEZ,OAAO;IAAEE;EAAY,CAAC;AAC1B,CAAC;;AAGD;AAAAD,GAAA,CArFMF,MAAM;AAsFZ,MAAMkD,SAAS,GAAGA,CAAA,KAAM;EAAAC,GAAA;EACtB,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGhM,QAAQ,CAAC,CAAC,CAAC;EAC/C,MAAM,CAACiM,YAAY,EAAEC,eAAe,CAAC,GAAGlM,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACmM,SAAS,EAAEC,YAAY,CAAC,GAAGpM,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACqM,YAAY,EAAEC,eAAe,CAAC,GAAGtM,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACuM,SAAS,EAAEC,YAAY,CAAC,GAAGxM,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC;;EAEvD,MAAM,CAACyM,QAAQ,EAAEC,WAAW,CAAC,GAAG1M,QAAQ,CAAC,OAAO;IAC9C2M,IAAI,EAAE,IAAI/B,IAAI,CAAC,CAAC,CAACgC,WAAW,CAAC,CAAC;IAC9BlC,QAAQ,EAAE;MACRmC,QAAQ,EAAE,oBAAoB;MAAE;MAChCC,SAAS,EAAE,EAAE;MACbC,QAAQ,EAAE,EAAE;MACZC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,KAAK,EAAE,EAAE;MACTxC,YAAY,EAAE;IAChB,CAAC;IACDyC,UAAU,EAAEnM,uBAAuB;IACnCoM,MAAM,EAAE,KAAK;IACbzK,SAAS,EAAE;EACb,CAAC,CAAC,CAAC;;EAEH;EACA,MAAM;IAAEkG;EAAY,CAAC,GAAGH,MAAM,CAAC;IAAEC,MAAM,EAAE5H;EAAQ,CAAC,CAAC;EAEnD,MAAMsM,oBAAoB,GAAGrN,WAAW,CAAEkD,CAAC,IAAK;IAC9C,MAAM;MAAEnB,IAAI;MAAED;IAAM,CAAC,GAAGoB,CAAC,CAAC2D,MAAM;IAChC4F,WAAW,CAACa,IAAI,KAAK;MACnB,GAAGA,IAAI;MACP7C,QAAQ,EAAE;QACR,GAAG6C,IAAI,CAAC7C,QAAQ;QAChB,CAAC1I,IAAI,GAAGD;MACV;IACF,CAAC,CAAC,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMyL,sBAAsB,GAAGvN,WAAW,CAAC,CAACoG,IAAI,EAAEoH,UAAU,KAAK;IAC/Df,WAAW,CAACa,IAAI,KAAK;MACnB,GAAGA,IAAI;MACPH,UAAU,EAAE;QACV,GAAGG,IAAI,CAACH,UAAU;QAClB,CAAC/G,IAAI,GAAGoH;MACV;IACF,CAAC,CAAC,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,qBAAqB,GAAGzN,WAAW,CAAEqH,OAAO,IAAK;IACrDoF,WAAW,CAACa,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAE3K,SAAS,EAAE0E;IAAQ,CAAC,CAAC,CAAC;EACxD,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMqG,qBAAqB,GAAG1N,WAAW,CAAEkD,CAAC,IAAK;IAC/CuJ,WAAW,CAACa,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAEF,MAAM,EAAElK,CAAC,CAAC2D,MAAM,CAAC8G;IAAQ,CAAC,CAAC,CAAC;EAC9D,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,YAAY,GAAGA,CAAA,KAAM;IACzB,MAAMC,IAAI,GAAGrB,QAAQ,CAAC/B,QAAQ;IAC9B;IACA,OAAOoD,IAAI,CAAChB,SAAS,IAAIgB,IAAI,CAACf,QAAQ,IAAIe,IAAI,CAACd,KAAK,IAAIc,IAAI,CAACb,QAAQ,IAAIa,IAAI,CAACZ,QAAQ,IAAIY,IAAI,CAACnD,YAAY,IAAImD,IAAI,CAACjB,QAAQ;EAC9H,CAAC;EAED,MAAMkB,YAAY,GAAGA,CAAA,KAAM;IACzB,OAAOtB,QAAQ,CAACY,MAAM,IAAIZ,QAAQ,CAAC7J,SAAS;EAC9C,CAAC;EAED,MAAMoL,UAAU,GAAGA,CAAA,KAAM;IACvB,IAAIjC,UAAU,KAAK,CAAC,IAAI,CAAC8B,YAAY,CAAC,CAAC,EAAE;MACvCvB,eAAe,CAAC,yEAAyE,CAAC;MAC1FE,YAAY,CAAC,OAAO,CAAC;MACrBJ,YAAY,CAAC,IAAI,CAAC;MAClB;IACF;IACAJ,aAAa,CAACuB,IAAI,IAAIA,IAAI,GAAG,CAAC,CAAC;EACjC,CAAC;EAED,MAAMU,UAAU,GAAGA,CAAA,KAAM;IACvBjC,aAAa,CAACuB,IAAI,IAAIA,IAAI,GAAG,CAAC,CAAC;EACjC,CAAC;EAED,MAAMW,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI,CAACH,YAAY,CAAC,CAAC,EAAE;MACnBzB,eAAe,CAAC,8DAA8D,CAAC;MAC/EE,YAAY,CAAC,OAAO,CAAC;MACrBJ,YAAY,CAAC,IAAI,CAAC;MAClB;IACF;IAEAF,eAAe,CAAC,IAAI,CAAC;IACrBI,eAAe,CAAC,gBAAgB,CAAC;IACjCE,YAAY,CAAC,SAAS,CAAC;IACvBJ,YAAY,CAAC,IAAI,CAAC;IAElB,IAAI;MACF,MAAMtD,WAAW,CAAC2D,QAAQ,CAAC;MAE3BH,eAAe,CAAC,gDAAgD,CAAC;MACjEE,YAAY,CAAC,SAAS,CAAC;;MAEvB;MACAE,WAAW,CAAC;QACVC,IAAI,EAAE,IAAI/B,IAAI,CAAC,CAAC,CAACgC,WAAW,CAAC,CAAC;QAC9BlC,QAAQ,EAAE;UACRmC,QAAQ,EAAE,oBAAoB;UAC9BC,SAAS,EAAE,EAAE;UACbC,QAAQ,EAAE,EAAE;UACZC,KAAK,EAAE,EAAE;UACTC,QAAQ,EAAE,EAAE;UACZC,QAAQ,EAAE,EAAE;UACZC,KAAK,EAAE,EAAE;UACTxC,YAAY,EAAE;QAChB,CAAC;QACDyC,UAAU,EAAEnM,uBAAuB;QACnCoM,MAAM,EAAE,KAAK;QACbzK,SAAS,EAAE;MACb,CAAC,CAAC;MACFoJ,aAAa,CAAC,CAAC,CAAC;IAElB,CAAC,CAAC,OAAOtE,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;MACxD,IAAIyG,YAAY,GAAGzG,KAAK,CAACW,OAAO,IAAI,yBAAyB;MAC7D,IAAI8F,YAAY,CAACpE,QAAQ,CAAC,2BAA2B,CAAC,EAAE;QACpDoE,YAAY,GAAG,wGAAwG;MAC3H;MACA7B,eAAe,CAAC,wBAAwB6B,YAAY,EAAE,CAAC;MACvD3B,YAAY,CAAC,OAAO,CAAC;IACvB,CAAC,SAAS;MACRN,eAAe,CAAC,KAAK,CAAC;IACxB;EACF,CAAC;EAGD,MAAMkC,UAAU,GAAGA,CAAA,KAAM;IACvB,QAAQrC,UAAU;MAChB,KAAK,CAAC;QACJ;QACA,oBACElL,OAAA;UAAKuB,SAAS,EAAC,WAAW;UAAAD,QAAA,gBACxBtB,OAAA;YAAIuB,SAAS,EAAC,iFAAiF;YAAAD,QAAA,gBAC3FtB,OAAA,CAACV,GAAG;cAACiC,SAAS,EAAC;YAAyB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAC3C3B,OAAA;cAAAsB,QAAA,EAAM;YAA4B;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzC,CAAC,eAEL3B,OAAA,CAACc,UAAU;YAACG,KAAK,EAAC,QAAQ;YAACC,KAAK,EAAE0K,QAAQ,CAAC/B,QAAQ,CAACmC,QAAS;YAAC7K,IAAI,EAAC,UAAU;YAACC,QAAQ,EAAEqL,oBAAqB;YAACpL,QAAQ,EAAE;UAAK;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC,CAAC,eAC/H3B,OAAA,CAACc,UAAU;YAACG,KAAK,EAAC,sBAAsB;YAACC,KAAK,EAAE0K,QAAQ,CAAC/B,QAAQ,CAACoC,SAAU;YAAC9K,IAAI,EAAC,WAAW;YAACC,QAAQ,EAAEqL,oBAAqB;YAACpL,QAAQ,EAAE;UAAK;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC,CAAC,eAC/I3B,OAAA,CAACc,UAAU;YAACG,KAAK,EAAC,yBAAyB;YAACC,KAAK,EAAE0K,QAAQ,CAAC/B,QAAQ,CAACqC,QAAS;YAAC/K,IAAI,EAAC,UAAU;YAACC,QAAQ,EAAEqL,oBAAqB;YAACpL,QAAQ,EAAE;UAAK;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC,CAAC,eAChJ3B,OAAA,CAACc,UAAU;YAACG,KAAK,EAAC,yBAAyB;YAACC,KAAK,EAAE0K,QAAQ,CAAC/B,QAAQ,CAACsC,KAAM;YAAChL,IAAI,EAAC,OAAO;YAACC,QAAQ,EAAEqL,oBAAqB;YAACpL,QAAQ,EAAE;UAAK;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC,CAAC,eAC1I3B,OAAA,CAACc,UAAU;YAACG,KAAK,EAAC,aAAa;YAACC,KAAK,EAAE0K,QAAQ,CAAC/B,QAAQ,CAACuC,QAAS;YAACjL,IAAI,EAAC,UAAU;YAACC,QAAQ,EAAEqL,oBAAqB;YAACpL,QAAQ,EAAE;UAAK;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC,CAAC,eACpI3B,OAAA,CAACc,UAAU;YAACG,KAAK,EAAC,aAAa;YAACC,KAAK,EAAE0K,QAAQ,CAAC/B,QAAQ,CAACwC,QAAS;YAAClL,IAAI,EAAC,UAAU;YAACC,QAAQ,EAAEqL,oBAAqB;YAACpL,QAAQ,EAAE;UAAK;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC,CAAC,eACpI3B,OAAA,CAACc,UAAU;YAACG,KAAK,EAAC,OAAO;YAACC,KAAK,EAAE0K,QAAQ,CAAC/B,QAAQ,CAACyC,KAAM;YAACnL,IAAI,EAAC,OAAO;YAACC,QAAQ,EAAEqL;UAAqB;YAAAjL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC,CAAC,eACxG3B,OAAA,CAACc,UAAU;YAACG,KAAK,EAAC,YAAY;YAACC,KAAK,EAAE0K,QAAQ,CAAC/B,QAAQ,CAACC,YAAa;YAAC3I,IAAI,EAAC,cAAc;YAACC,QAAQ,EAAEqL,oBAAqB;YAACpL,QAAQ,EAAE;UAAK;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC,CAAC,eAE3I3B,OAAA;YAAKuB,SAAS,EAAC,uBAAuB;YAAAD,QAAA,eACpCtB,OAAA;cACEkF,OAAO,EAAEiI,UAAW;cACpBK,QAAQ,EAAE,CAACR,YAAY,CAAC,CAAE;cAC1BzL,SAAS,EAAC,uIAAuI;cAAAD,QAAA,GAClJ,cACa,eAAAtB,OAAA;gBAAM,eAAY,MAAM;gBAAAsB,QAAA,EAAC;cAAM;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5C;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAGV,KAAK,CAAC;QACJ;;QAEA;QACA,MAAM8L,MAAM,GAAG;UACb,YAAY,EAAE,CAAC,OAAO,CAAC;UACvB,OAAO,EAAE,CAAC,YAAY,EAAE,SAAS,EAAE,SAAS,EAAE,aAAa,CAAC;UAC5D,gBAAgB,EAAE,CAAC,OAAO,EAAE,QAAQ;QACtC,CAAC;QAED,oBACEzN,OAAA;UAAAsB,QAAA,gBACEtB,OAAA;YAAIuB,SAAS,EAAC,iFAAiF;YAAAD,QAAA,gBAC3FtB,OAAA,CAACT,QAAQ;cAACgC,SAAS,EAAC;YAAyB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAChD3B,OAAA;cAAAsB,QAAA,EAAM;YAAe;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5B,CAAC,eAEL3B,OAAA;YAAKuB,SAAS,EAAC,mFAAmF;YAAAD,QAAA,gBAC9FtB,OAAA;cAAMuB,SAAS,EAAC,gBAAgB;cAAAD,QAAA,EAAC;YAAe;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACvD3B,OAAA;cAAMuB,SAAS,EAAC,iBAAiB;cAAAD,QAAA,EAAC;YAAgB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACzD3B,OAAA;cAAMuB,SAAS,EAAC,cAAc;cAAAD,QAAA,EAAC;YAAgB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrD,CAAC,EAEL+L,MAAM,CAACC,OAAO,CAACF,MAAM,CAAC,CAACzG,GAAG,CAAC,CAAC,CAAC4G,SAAS,EAAEC,KAAK,CAAC,kBAC3C7N,OAAA;YAAqBuB,SAAS,EAAC,MAAM;YAAAD,QAAA,gBACjCtB,OAAA;cAAIuB,SAAS,EAAC,wCAAwC;cAAAD,QAAA,EAAEsM;YAAS;cAAApM,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACvE3B,OAAA;cAAKuB,SAAS,EAAC,WAAW;cAAAD,QAAA,EACrBuM,KAAK,CAAC7G,GAAG,CAACxB,IAAI,iBACXxF,OAAA,CAACqF,cAAc;gBAEXG,IAAI,EAAEA,IAAK;gBACXC,OAAO,EAAEmG,QAAQ,CAACW,UAAU,CAAC/G,IAAI,CAAE;gBACnCE,QAAQ,EAAEiH;cAAuB,GAH5BnH,IAAI;gBAAAhE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAIZ,CACJ;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CAAC;UAAA,GAXAiM,SAAS;YAAApM,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAYd,CACR,CAAC,eAEF3B,OAAA;YAAKuB,SAAS,EAAC,2BAA2B;YAAAD,QAAA,gBACxCtB,OAAA;cACEkF,OAAO,EAAEkI,UAAW;cACpB7L,SAAS,EAAC,kHAAkH;cAAAD,QAAA,EAC7H;YAED;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACT3B,OAAA;cACEkF,OAAO,EAAEiI,UAAW;cACpB5L,SAAS,EAAC,mHAAmH;cAAAD,QAAA,GAC9H,cACa,eAAAtB,OAAA;gBAAM,eAAY,MAAM;gBAAAsB,QAAA,EAAC;cAAM;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5C,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAGV,KAAK,CAAC;QACJ;QACA,oBACE3B,OAAA;UAAKuB,SAAS,EAAC,WAAW;UAAAD,QAAA,gBACxBtB,OAAA;YAAIuB,SAAS,EAAC,iFAAiF;YAAAD,QAAA,gBAC3FtB,OAAA,CAACR,WAAW;cAAC+B,SAAS,EAAC;YAAyB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eACnD3B,OAAA;cAAAsB,QAAA,EAAM;YAAqB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClC,CAAC,eAGL3B,OAAA;YAAKuB,SAAS,EAAC,+FAA+F;YAAAD,QAAA,gBAC1GtB,OAAA;cAAIuB,SAAS,EAAC,wCAAwC;cAAAD,QAAA,EAAC;YAA6D;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACzH3B,OAAA;cAAIuB,SAAS,EAAC,oCAAoC;cAAAD,QAAA,gBAC9CtB,OAAA;gBAAAsB,QAAA,EAAI;cAAkG;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC3G3B,OAAA;gBAAAsB,QAAA,EAAI;cAA0F;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACnG3B,OAAA;gBAAAsB,QAAA,EAAI;cAAsF;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC/F3B,OAAA;gBAAAsB,QAAA,EAAI;cAA2F;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACpG3B,OAAA;gBAAAsB,QAAA,EAAI;cAAwF;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACjG3B,OAAA;gBAAAsB,QAAA,EAAI;cAA4D;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACrE3B,OAAA;gBAAAsB,QAAA,EAAI;cAA6F;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACtG3B,OAAA;gBAAAsB,QAAA,EAAI;cAAsF;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC/F3B,OAAA;gBAAAsB,QAAA,EAAI;cAAqE;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC9E3B,OAAA;gBAAAsB,QAAA,EAAI;cAA4D;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ,CAAC,eAGN3B,OAAA;YAAKuB,SAAS,EAAC,uBAAuB;YAAAD,QAAA,gBAClCtB,OAAA;cACI4B,IAAI,EAAC,UAAU;cACfkM,EAAE,EAAC,QAAQ;cACXf,OAAO,EAAEnB,QAAQ,CAACY,MAAO;cACzBpL,QAAQ,EAAE0L,qBAAsB;cAChCvL,SAAS,EAAC;YAA4E;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzF,CAAC,eACF3B,OAAA;cAAO+N,OAAO,EAAC,QAAQ;cAACxM,SAAS,EAAC,yDAAyD;cAAAD,QAAA,EAAC;YAE5F;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACP,CAAC,eAGN3B,OAAA;YAAKuB,SAAS,EAAC,MAAM;YAAAD,QAAA,gBACnBtB,OAAA;cAAIuB,SAAS,EAAC,sCAAsC;cAAAD,QAAA,EAAC;YAAsB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAChF3B,OAAA,CAAC8B,YAAY;cACXC,SAAS,EAAE6J,QAAQ,CAAC7J,SAAU;cAC9BC,YAAY,EAAE6K;YAAsB;cAAArL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAGN3B,OAAA;YAAKuB,SAAS,EAAC,2BAA2B;YAAAD,QAAA,gBACxCtB,OAAA;cACEkF,OAAO,EAAEkI,UAAW;cACpB7L,SAAS,EAAC,kHAAkH;cAAAD,QAAA,EAC7H;YAED;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACT3B,OAAA;cACEkF,OAAO,EAAEmI,YAAa;cACtBG,QAAQ,EAAEpC,YAAY,IAAI,CAAC8B,YAAY,CAAC,CAAE;cAC1C3L,SAAS,EAAC,8MAA8M;cAAAD,QAAA,EAEtN8J,YAAY,gBACVpL,OAAA,CAAAE,SAAA;gBAAAoB,QAAA,gBACGtB,OAAA,CAACF,OAAO;kBAACyB,SAAS,EAAC;gBAAsB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,eAC5C3B,OAAA;kBAAAsB,QAAA,EAAM;gBAAc;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA,eAC5B,CAAC,gBAEH3B,OAAA,CAAAE,SAAA;gBAAAoB,QAAA,gBACGtB,OAAA,CAACH,QAAQ;kBAAC0B,SAAS,EAAC;gBAAS;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,eAChC3B,OAAA;kBAAAsB,QAAA,EAAM;gBAAgC;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA,eAC9C;YACJ;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAGV;QACE,oBAAO3B,OAAA;UAAAsB,QAAA,EAAK;QAAqB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;IAC3C;EACF,CAAC;;EAGD;EACA,MAAMqM,KAAK,GAAG,CACZ;IAAEF,EAAE,EAAE,CAAC;IAAE3M,IAAI,EAAE,kBAAkB;IAAE8M,IAAI,EAAE3O;EAAI,CAAC,EAC9C;IAAEwO,EAAE,EAAE,CAAC;IAAE3M,IAAI,EAAE,UAAU;IAAE8M,IAAI,EAAE1O;EAAS,CAAC,EAC3C;IAAEuO,EAAE,EAAE,CAAC;IAAE3M,IAAI,EAAE,cAAc;IAAE8M,IAAI,EAAEzO;EAAY,CAAC,CACnD;EAED,oBACEQ,OAAA;IAAKuB,SAAS,EAAC,+BAA+B;IAAAD,QAAA,gBAC5CtB,OAAA;MAAQuB,SAAS,EAAC,oBAAoB;MAAAD,QAAA,eACpCtB,OAAA;QAAKuB,SAAS,EAAC,+EAA+E;QAAAD,QAAA,gBAC5FtB,OAAA;UAAKuB,SAAS,EAAC,6BAA6B;UAAAD,QAAA,gBAC1CtB,OAAA,CAACP,KAAK;YAAC8B,SAAS,EAAC;UAAyB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC7C3B,OAAA;YAAIuB,SAAS,EAAC,uCAAuC;YAAAD,QAAA,EAAC;UAAY;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpE,CAAC,eACN3B,OAAA;UAAKuB,SAAS,EAAC,mDAAmD;UAAAD,QAAA,EAAC;QAEnE;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC,eAET3B,OAAA;MAAMuB,SAAS,EAAC,6CAA6C;MAAAD,QAAA,gBAE3DtB,OAAA;QAAKuB,SAAS,EAAC,2BAA2B;QAAC,cAAW,UAAU;QAAAD,QAAA,EAC7D0M,KAAK,CAAChH,GAAG,CAAEkH,IAAI,iBACdlO,OAAA;UAEEuB,SAAS,EAAE,kFACT2J,UAAU,KAAKgD,IAAI,CAACJ,EAAE,GAAG,iBAAiB,GAAG,eAAe,EAC3D;UAAAxM,QAAA,gBAGHtB,OAAA;YAAKuB,SAAS,EAAE,+BACd2J,UAAU,IAAIgD,IAAI,CAACJ,EAAE,GAAG,eAAe,GAAG,aAAa,EACtD;YAAAxM,QAAA,gBACDtB,OAAA,CAACkO,IAAI,CAACD,IAAI;cAAC1M,SAAS,EAAC;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eACjC3B,OAAA;cAAMuB,SAAS,EAAC,0BAA0B;cAAAD,QAAA,EACvC4M,IAAI,CAAC/M;YAAI;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ,CAAC,eAGN3B,OAAA;YAAKuB,SAAS,EAAE,4DACd2J,UAAU,KAAKgD,IAAI,CAACJ,EAAE,GAAG,eAAe,GAAG,aAAa;UACvD;YAAAtM,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA,GAlBLuM,IAAI,CAACJ,EAAE;UAAAtM,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAmBT,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAGN3B,OAAA;QAAKuB,SAAS,EAAC,mCAAmC;QAAAD,QAAA,EAC/CiM,UAAU,CAAC;MAAC;QAAA/L,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACV,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC,EAGN2J,SAAS,iBACRtL,OAAA,CAACuH,KAAK;MACJC,OAAO,EAAEgE,YAAa;MACtB5J,IAAI,EAAE8J,SAAU;MAChBjE,OAAO,EAAEA,CAAA,KAAM8D,YAAY,CAAC,KAAK;IAAE;MAAA/J,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpC,CACF;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACsJ,GAAA,CAjXID,SAAS;EAAA,QAyBWlD,MAAM;AAAA;AAAAqG,GAAA,GAzB1BnD,SAAS;AAmXf,eAAeA,SAAS;AAAC,IAAAhK,EAAA,EAAAa,GAAA,EAAAuD,GAAA,EAAAG,GAAA,EAAA+B,GAAA,EAAAO,GAAA,EAAAsG,GAAA;AAAAC,YAAA,CAAApN,EAAA;AAAAoN,YAAA,CAAAvM,GAAA;AAAAuM,YAAA,CAAAhJ,GAAA;AAAAgJ,YAAA,CAAA7I,GAAA;AAAA6I,YAAA,CAAA9G,GAAA;AAAA8G,YAAA,CAAAvG,GAAA;AAAAuG,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}