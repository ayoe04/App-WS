{"ast":null,"code":"var _jsxFileName = \"/home/ayu/Documents/project-ayu/app-wrap-station/src/dashboard.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$();\nimport React, { useState, useCallback, useRef } from 'react';\n// import { usePDF } from './usePDF'; // BARIS INI DIHAPUS\nimport { Car, FileText, CheckSquare, Clock, X, Trash2, Camera, Download, Loader2 } from 'lucide-react';\n\n// Konfigurasi API Endpoint\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_URL = \"http://localhost:4000/api/generate-pdf\";\n\n// Skema data inspeksi default\nconst defaultInspectionSchema = {\n  Paint: {\n    status: 'G',\n    notes: '',\n    file: null\n  },\n  Windshield: {\n    status: 'G',\n    notes: '',\n    file: null\n  },\n  Windows: {\n    status: 'G',\n    notes: '',\n    file: null\n  },\n  Mirrors: {\n    status: 'G',\n    notes: '',\n    file: null\n  },\n  'Rear Window': {\n    status: 'G',\n    notes: '',\n    file: null\n  },\n  Tires: {\n    status: 'G',\n    notes: '',\n    file: null\n  },\n  Wheels: {\n    status: 'G',\n    notes: '',\n    file: null\n  }\n};\n\n// Component Tanda Tangan\nconst SignaturePad = ({\n  signature,\n  setSignature\n}) => {\n  _s();\n  const canvasRef = useRef(null);\n  const [isDrawing, setIsDrawing] = useState(false);\n  const startDrawing = e => {\n    setIsDrawing(true);\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const rect = canvas.getBoundingClientRect();\n    const x = (e.clientX || e.touches[0].clientX) - rect.left;\n    const y = (e.clientY || e.touches[0].clientY) - rect.top;\n    ctx.beginPath();\n    ctx.moveTo(x, y);\n  };\n  const draw = e => {\n    if (!isDrawing) return;\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const rect = canvas.getBoundingClientRect();\n    const x = (e.clientX || e.touches[0].clientX) - rect.left;\n    const y = (e.clientY || e.touches[0].clientY) - rect.top;\n    ctx.lineTo(x, y);\n    ctx.stroke();\n    // Cegah scrolling pada touch devices saat menggambar\n    if (e.touches) e.preventDefault();\n  };\n  const stopDrawing = () => {\n    if (isDrawing) {\n      setIsDrawing(false);\n      const canvas = canvasRef.current;\n      setSignature(canvas.toDataURL('image/png'));\n    }\n  };\n  const clearSignature = () => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    setSignature('');\n  };\n  React.useEffect(() => {\n    const canvas = canvasRef.current;\n    if (canvas) {\n      const ctx = canvas.getContext('2d');\n      ctx.lineWidth = 2;\n      ctx.lineCap = 'round';\n      ctx.strokeStyle = '#000';\n    }\n  }, []);\n\n  // Tambahkan listener untuk mouse/touch events\n  React.useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    canvas.addEventListener('mousedown', startDrawing);\n    canvas.addEventListener('mousemove', draw);\n    window.addEventListener('mouseup', stopDrawing);\n    canvas.addEventListener('touchstart', startDrawing, {\n      passive: false\n    });\n    canvas.addEventListener('touchmove', draw, {\n      passive: false\n    });\n    window.addEventListener('touchend', stopDrawing);\n    return () => {\n      canvas.removeEventListener('mousedown', startDrawing);\n      canvas.removeEventListener('mousemove', draw);\n      window.removeEventListener('mouseup', stopDrawing);\n      canvas.removeEventListener('touchstart', startDrawing);\n      canvas.removeEventListener('touchmove', draw);\n      window.removeEventListener('touchend', stopDrawing);\n    };\n  }, [isDrawing, setSignature]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative border border-gray-300 rounded-lg shadow-inner bg-white\",\n    children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      width: 400,\n      height: 200,\n      className: \"w-full h-full\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: clearSignature,\n      type: \"button\",\n      className: \"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition duration-150 shadow-lg\",\n      title: \"Hapus Tanda Tangan\",\n      children: /*#__PURE__*/_jsxDEV(X, {\n        className: \"w-5 h-5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n};\n\n// Component Item Inspeksi\n_s(SignaturePad, \"hUvhdaAADxvplbrpTkqF7ZEC0vU=\");\n_c = SignaturePad;\nconst InspectionItem = /*#__PURE__*/_s2(/*#__PURE__*/React.memo(_c2 = _s2(({\n  item,\n  details,\n  onUpdate\n}) => {\n  _s2();\n  const [showNotes, setShowNotes] = useState(false);\n  const fileInputRef = useRef(null);\n  const handleStatusChange = newStatus => {\n    onUpdate(item, {\n      ...details,\n      status: newStatus\n    });\n  };\n  const handleNotesChange = e => {\n    onUpdate(item, {\n      ...details,\n      notes: e.target.value\n    });\n  };\n  const handleFileChange = e => {\n    const file = e.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        // Simpan Data URL (Base64) dan nama file\n        onUpdate(item, {\n          ...details,\n          file: {\n            name: file.name,\n            dataUrl: reader.result\n          }\n        });\n      };\n      reader.onerror = () => {\n        console.error(\"Gagal membaca file.\");\n        onUpdate(item, {\n          ...details,\n          file: null\n        });\n      };\n      reader.readAsDataURL(file);\n    } else {\n      onUpdate(item, {\n        ...details,\n        file: null\n      });\n    }\n  };\n  const removeFile = () => {\n    onUpdate(item, {\n      ...details,\n      file: null\n    });\n    // Reset input file agar bisa memilih file yang sama lagi\n    if (fileInputRef.current) {\n      fileInputRef.current.value = null;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white p-4 rounded-lg shadow-sm border border-gray-200 mb-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2 w-3/4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-1\",\n          children: ['G', 'F', 'P'].map(s => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleStatusChange(s),\n            className: `w-10 h-10 font-bold rounded-lg transition duration-150 ${details.status === s ? s === 'G' ? 'bg-green-600 text-white shadow-lg' : s === 'F' ? 'bg-yellow-500 text-gray-800 shadow-lg' : 'bg-red-600 text-white shadow-lg' : 'bg-gray-100 text-gray-600 hover:bg-gray-200'}`,\n            children: s\n          }, s, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-gray-800\",\n          children: item\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowNotes(!showNotes),\n        className: `p-2 rounded-full transition duration-200 ${showNotes ? 'bg-indigo-600 text-white shadow-md' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`,\n        title: showNotes ? 'Sembunyikan Catatan' : 'Tampilkan Catatan',\n        children: showNotes ? /*#__PURE__*/_jsxDEV(X, {\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 24\n        }, this) : /*#__PURE__*/_jsxDEV(FileText, {\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 52\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }, this), showNotes && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 p-4 border-t border-gray-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: details.notes,\n        onChange: handleNotesChange,\n        placeholder: `Tambahkan catatan untuk ${item}...`,\n        rows: \"3\",\n        className: \"w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 resize-none text-sm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-sm font-medium text-gray-700 flex items-center space-x-2 cursor-pointer bg-indigo-100 px-3 py-1.5 rounded-md hover:bg-indigo-200 transition duration-150\",\n          children: [/*#__PURE__*/_jsxDEV(Camera, {\n            className: \"w-4 h-4 text-indigo-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Pilih File\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            ref: fileInputRef,\n            onChange: handleFileChange,\n            className: \"hidden\",\n            accept: \"image/*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 13\n        }, this), details.file ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2 text-sm text-gray-600\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"truncate max-w-xs\",\n            children: details.file.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: removeFile,\n            type: \"button\",\n            className: \"text-red-500 hover:text-red-700\",\n            children: /*#__PURE__*/_jsxDEV(Trash2, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm text-gray-500\",\n          children: \"Tidak ada file terlampir.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 11\n      }, this), details.file && details.file.dataUrl && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: details.file.dataUrl,\n        alt: \"Preview\",\n        className: \"mt-3 w-32 h-32 object-cover rounded-md border border-gray-300\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 14\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 166,\n    columnNumber: 5\n  }, this);\n}, \"7UF4nFhNv3SfdctX/c/72WiDis4=\")), \"7UF4nFhNv3SfdctX/c/72WiDis4=\");\n\n// Component Utama Dashboard\n_c3 = InspectionItem;\nconst Dashboard = () => {\n  _s3();\n  const [activeStep, setActiveStep] = useState(1);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [modalMessage, setModalMessage] = useState('');\n  const [modalType, setModalType] = useState('success'); // 'success' or 'error'\n\n  const [formData, setFormData] = useState({\n    date: new Date().toISOString(),\n    customer: {\n      location: 'Wrap Station Medan',\n      firstName: '',\n      lastName: '',\n      phone: '',\n      carBrand: '',\n      carModel: '',\n      color: '',\n      licensePlate: ''\n    },\n    inspection: defaultInspectionSchema,\n    agreed: false,\n    signature: ''\n  });\n\n  // Kustom hook untuk logika Fetch PDF\n  const {\n    downloadPDF\n  } = usePDF({\n    apiUrl: API_URL\n  });\n  const handleCustomerChange = useCallback(e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      customer: {\n        ...prev.customer,\n        [name]: value\n      }\n    }));\n  }, []);\n  const handleInspectionUpdate = useCallback((item, newDetails) => {\n    setFormData(prev => ({\n      ...prev,\n      inspection: {\n        ...prev.inspection,\n        [item]: newDetails\n      }\n    }));\n  }, []);\n  const handleSignatureChange = useCallback(dataUrl => {\n    setFormData(prev => ({\n      ...prev,\n      signature: dataUrl\n    }));\n  }, []);\n  const handleAgreementChange = useCallback(e => {\n    setFormData(prev => ({\n      ...prev,\n      agreed: e.target.checked\n    }));\n  }, []);\n  const isStep1Valid = () => {\n    const cust = formData.customer;\n    return cust.firstName && cust.lastName && cust.phone && cust.carBrand && cust.carModel && cust.licensePlate;\n  };\n  const isStep3Valid = () => {\n    return formData.agreed && formData.signature;\n  };\n  const handleNext = () => {\n    if (activeStep === 1 && !isStep1Valid()) {\n      // Mengganti alert() dengan modal\n      setModalMessage('Harap isi semua detail pelanggan dan kendaraan wajib.');\n      setModalType('error');\n      setShowModal(true);\n      return;\n    }\n    setActiveStep(prev => prev + 1);\n  };\n  const handlePrev = () => {\n    setActiveStep(prev => prev - 1);\n  };\n  const handleSubmit = async () => {\n    if (!isStep3Valid()) {\n      setModalMessage('Anda harus menandatangani dan menyetujui Syarat & Ketentuan.');\n      setModalType('error');\n      setShowModal(true);\n      return;\n    }\n    setIsSubmitting(true);\n    setModalMessage('Membuat PDF...');\n    setModalType('loading'); // Custom type for loading state\n    setShowModal(true);\n    try {\n      // Panggil hook untuk mendownload PDF\n      await downloadPDF(formData);\n      setModalMessage('Inspeksi Berhasil Ditambahkan dan PDF Diunduh!');\n      setModalType('success');\n\n      // Reset Form Data setelah sukses\n      setFormData({\n        date: new Date().toISOString(),\n        customer: {\n          location: 'Wrap Station Medan',\n          firstName: '',\n          lastName: '',\n          phone: '',\n          carBrand: '',\n          carModel: '',\n          color: '',\n          licensePlate: ''\n        },\n        inspection: defaultInspectionSchema,\n        agreed: false,\n        signature: ''\n      });\n      setActiveStep(1); // Kembali ke langkah pertama\n    } catch (error) {\n      console.error('Error saat submit/mengunduh PDF:', error);\n      setModalMessage(`Gagal mengunduh PDF: ${error.message || 'Periksa koneksi server.'}`);\n      setModalType('error');\n    } finally {\n      setIsSubmitting(false);\n      // Modal tetap terbuka dengan pesan sukses/gagal\n    }\n  };\n\n  // Custom Modal Component\n  const Modal = ({\n    message,\n    type,\n    onClose\n  }) => {\n    const isSuccess = type === 'success';\n    const isError = type === 'error';\n    const isLoading = type === 'loading';\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-8 rounded-xl shadow-2xl w-full max-w-sm text-center transform transition-all duration-300 scale-100\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `mx-auto w-16 h-16 rounded-full flex items-center justify-center mb-4 ${isSuccess ? 'bg-green-100' : isError ? 'bg-red-100' : 'bg-indigo-100'}`,\n          children: isLoading ? /*#__PURE__*/_jsxDEV(Loader2, {\n            className: \"w-8 h-8 text-indigo-600 animate-spin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 16\n          }, this) : isSuccess ? /*#__PURE__*/_jsxDEV(CheckSquare, {\n            className: \"w-8 h-8 text-green-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(X, {\n            className: \"w-8 h-8 text-red-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold mb-2 text-gray-800\",\n          children: isLoading ? 'Processing...' : isSuccess ? 'Success' : 'Error'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-6\",\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 11\n        }, this), !isLoading && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: `w-full py-2 rounded-lg font-semibold transition duration-200 ${isSuccess ? 'bg-indigo-600 hover:bg-indigo-700 text-white shadow-md' : 'bg-gray-300 hover:bg-gray-400 text-gray-800'}`,\n          children: \"OK\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 7\n    }, this);\n  };\n  const renderStep = () => {\n    switch (activeStep) {\n      case 1:\n        // STEP 1: Customer Details\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-gray-800 border-b pb-2 mb-4\",\n            children: \"Detail Pelanggan & Kendaraan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n            label: \"Lokasi\",\n            value: formData.customer.location,\n            name: \"location\",\n            readOnly: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n            label: \"Nama Depan Pelanggan\",\n            value: formData.customer.firstName,\n            name: \"firstName\",\n            onChange: handleCustomerChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n            label: \"Nama Belakang Pelanggan\",\n            value: formData.customer.lastName,\n            name: \"lastName\",\n            onChange: handleCustomerChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n            label: \"Nomor Telepon Pelanggan\",\n            value: formData.customer.phone,\n            name: \"phone\",\n            onChange: handleCustomerChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n            label: \"Merek Mobil\",\n            value: formData.customer.carBrand,\n            name: \"carBrand\",\n            onChange: handleCustomerChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n            label: \"Model Mobil\",\n            value: formData.customer.carModel,\n            name: \"carModel\",\n            onChange: handleCustomerChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n            label: \"Warna\",\n            value: formData.customer.color,\n            name: \"color\",\n            onChange: handleCustomerChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n            label: \"Plat Nomor\",\n            value: formData.customer.licensePlate,\n            name: \"licensePlate\",\n            onChange: handleCustomerChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end pt-4\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleNext,\n              disabled: !isStep1Valid(),\n              className: \"px-6 py-2 bg-indigo-600 text-white font-semibold rounded-lg shadow-md hover:bg-indigo-700 transition duration-200 disabled:opacity-50\",\n              children: [\"Selanjutnya \", /*#__PURE__*/_jsxDEV(\"span\", {\n                \"aria-hidden\": \"true\",\n                children: \"\\u2192\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 11\n        }, this);\n      case 2:\n        // STEP 2: Inspection\n\n        // Group items for better UI layout\n        const groups = {\n          'Body Paint': ['Paint'],\n          'Glass': ['Windshield', 'Windows', 'Mirrors', 'Rear Window'],\n          'Wheels & Tires': ['Tires', 'Wheels']\n        };\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-gray-800 border-b pb-2 mb-4\",\n            children: \"Detail Inspeksi\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4 mb-6 text-sm font-semibold\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-green-600\",\n              children: \"G = Baik (Good)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-yellow-500\",\n              children: \"F = Cukup (Fair)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-600\",\n              children: \"P = Buruk (Poor)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 13\n          }, this), Object.entries(groups).map(([groupName, items]) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-bold text-indigo-700 mb-4\",\n              children: groupName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: items.map(item => /*#__PURE__*/_jsxDEV(InspectionItem, {\n                item: item,\n                details: formData.inspection[item],\n                onUpdate: handleInspectionUpdate\n              }, item, false, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 29\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 21\n            }, this)]\n          }, groupName, true, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 17\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between pt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handlePrev,\n              className: \"px-6 py-2 bg-gray-300 text-gray-800 font-semibold rounded-lg shadow-md hover:bg-gray-400 transition duration-200\",\n              children: \"\\u2190 Sebelumnya\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleNext,\n              className: \"px-6 py-2 bg-indigo-600 text-white font-semibold rounded-lg shadow-md hover:bg-indigo-700 transition duration-200\",\n              children: [\"Selanjutnya \", /*#__PURE__*/_jsxDEV(\"span\", {\n                \"aria-hidden\": \"true\",\n                children: \"\\u2192\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 11\n        }, this);\n      case 3:\n        // STEP 3: Terms & Signature\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-gray-800 border-b pb-2 mb-4\",\n            children: \"Syarat & Tanda Tangan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 506,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 p-6 rounded-lg border border-gray-200 h-64 overflow-y-scroll text-sm text-gray-700\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-bold text-lg mb-3 text-indigo-700\",\n              children: \"Syarat dan Ketentuan - Serah Terima Kendaraan di Wrap Station\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 510,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n              className: \"list-decimal list-inside space-y-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Kondisi kendaraan dapat berubah setelah pembersihan. Tim akan menginformasikan jika ada perubahan.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 512,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Status cat kendaraan (repaint/original) tidak dapat dipastikan, risiko ditanggung pemilik.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Penambahan jarak tempuh (mileage) bisa terjadi, dan bukan tanggung jawab Wrap Station.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 514,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Kerusakan/malfungsi mesin selama atau setelah pengerjaan bukan tanggung jawab Wrap Station.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 515,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Kerusakan akibat pembongkaran aksesori oleh pelanggan bukan tanggung jawab Wrap Station.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 516,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Kehilangan barang pribadi bukan tanggung jawab Wrap Station.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 517,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Wrap Station berhak melakukan tindakan teknis yang diperlukan tanpa persetujuan lebih lanjut.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Kondisi/modifikasi khusus yang tidak diinformasikan di awal dapat membatalkan garansi.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 519,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Penurunan baterai EV adalah kondisi alami, bukan tanggung jawab kami.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 520,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Estimasi pengerjaan dapat berubah karena faktor tak terduga.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 521,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 511,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 509,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start mt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              id: \"agreed\",\n              checked: formData.agreed,\n              onChange: handleAgreementChange,\n              className: \"mt-1 h-5 w-5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"agreed\",\n              className: \"ml-3 text-base text-gray-900 font-medium\",\n              children: \"Saya telah membaca dan menyetujui Syarat & Ketentuan.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 534,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-bold text-gray-800 mb-2\",\n              children: \"Tanda Tangan Pelanggan\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 541,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(SignaturePad, {\n              signature: formData.signature,\n              setSignature: handleSignatureChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 542,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 540,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between pt-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handlePrev,\n              className: \"px-6 py-2 bg-gray-300 text-gray-800 font-semibold rounded-lg shadow-md hover:bg-gray-400 transition duration-200\",\n              children: \"\\u2190 Sebelumnya\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 550,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSubmit,\n              disabled: isSubmitting || !isStep3Valid(),\n              className: \"flex items-center justify-center space-x-2 px-6 py-2 bg-indigo-600 text-white font-semibold rounded-lg shadow-xl hover:bg-indigo-700 transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed\",\n              children: isSubmitting ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Loader2, {\n                  className: \"w-5 h-5 animate-spin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 563,\n                  columnNumber: 24\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Membuat PDF...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 564,\n                  columnNumber: 24\n                }, this)]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Download, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 568,\n                  columnNumber: 24\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Submit Inspection & Download PDF\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 569,\n                  columnNumber: 24\n                }, this)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 556,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 549,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 11\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Langkah Tidak Dikenal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 578,\n          columnNumber: 16\n        }, this);\n    }\n  };\n\n  // Helper component for standard input\n  const InputGroup = ({\n    label,\n    value,\n    name,\n    onChange,\n    readOnly = false,\n    required = false\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"block text-sm font-medium text-gray-700 mb-1\",\n      children: [label, \" \", required && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-red-500\",\n        children: \"*\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 586,\n        columnNumber: 34\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 585,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: name,\n      value: value,\n      onChange: onChange,\n      readOnly: readOnly,\n      className: `w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none ${readOnly ? 'bg-gray-100 border-gray-200 text-gray-500' : 'border-gray-300 focus:ring-indigo-500 focus:border-indigo-500'}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 588,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 584,\n    columnNumber: 5\n  }, this);\n\n  // Navigasi Langkah\n  const steps = [{\n    id: 1,\n    name: 'Detail Kendaraan',\n    icon: Car\n  }, {\n    id: 2,\n    name: 'Inspeksi',\n    icon: FileText\n  }, {\n    id: 3,\n    name: 'Tanda Tangan',\n    icon: CheckSquare\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 pb-16\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"bg-white shadow-md\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8 flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(Clock, {\n            className: \"w-8 h-8 text-indigo-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 616,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl font-extrabold text-gray-900\",\n            children: \"WRAP STATION\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 617,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 615,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm font-medium text-gray-500\",\n          children: \"Inspeksi Kendaraan\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 619,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 614,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 613,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"max-w-4xl mx-auto pt-8 px-4 sm:px-6 lg:px-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"flex justify-between border-b-2 border-gray-200 mb-8\",\n        \"aria-label\": \"Progress\",\n        children: steps.map(step => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `flex-1 flex flex-col items-center pb-4 transition-colors duration-300 ${activeStep === step.id ? 'border-indigo-600 border-b-4' : 'border-transparent'}`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `flex items-center space-x-2 ${activeStep >= step.id ? 'text-indigo-600' : 'text-gray-400'}`,\n            children: [/*#__PURE__*/_jsxDEV(step.icon, {\n              className: \"w-6 h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 638,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hidden sm:inline text-sm font-medium\",\n              children: step.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 639,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 635,\n            columnNumber: 15\n          }, this)\n        }, step.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 629,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 627,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-8 rounded-xl shadow-lg\",\n        children: renderStep()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 648,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 625,\n      columnNumber: 7\n    }, this), showModal && /*#__PURE__*/_jsxDEV(Modal, {\n      message: modalMessage,\n      type: modalType,\n      onClose: () => setShowModal(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 655,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 612,\n    columnNumber: 5\n  }, this);\n};\n_s3(Dashboard, \"ImP1HDlIydzMATBKdDe/8iaRLTg=\", false, function () {\n  return [usePDF];\n});\n_c4 = Dashboard;\nexport default Dashboard;\n\n// --- usePDF Hook (Disalin di sini untuk fungsionalitas React satu file) ---\n// Hook kustom untuk menangani logika fetch dan download PDF\nconst usePDF = ({\n  apiUrl\n}) => {\n  _s4();\n  // Fungsi untuk mengunduh PDF\n  const downloadPDF = useCallback(async data => {\n    try {\n      console.log(\"Mengirim data inspeksi ke backend...\");\n      // Logika retri (Exponential Backoff) untuk koneksi yang tidak stabil\n      const MAX_RETRIES = 3;\n      let response;\n      for (let i = 0; i < MAX_RETRIES; i++) {\n        try {\n          response = await fetch(apiUrl, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(data)\n          });\n          if (response.ok) {\n            break; // Sukses, keluar dari loop retry\n          } else if (i === MAX_RETRIES - 1) {\n            // Setelah percobaan terakhir, jika masih gagal\n            const errorText = await response.text();\n            throw new Error(`Server error (${response.status}): ${errorText.substring(0, 100)}...`);\n          }\n        } catch (error) {\n          if (i === MAX_RETRIES - 1) {\n            throw new Error(`Gagal mengunduh PDF setelah ${MAX_RETRIES} kali percobaan.`);\n          }\n          // Tunggu sebelum percobaan berikutnya\n          const delay = Math.pow(2, i) * 1000; // 1s, 2s, 4s\n          await new Promise(resolve => setTimeout(resolve, delay));\n        }\n      }\n\n      // Dapatkan blob PDF dari respons\n      const blob = await response.blob();\n\n      // Dapatkan nama file dari header Content-Disposition jika tersedia\n      const contentDisposition = response.headers.get('Content-Disposition');\n      let filename = 'Inspection_Report.pdf';\n      if (contentDisposition) {\n        const match = contentDisposition.match(/filename=\"(.+)\"/);\n        if (match && match[1]) {\n          filename = match[1];\n        }\n      }\n\n      // Buat URL objek dan link download\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.style.display = 'none';\n      a.href = url;\n      a.download = filename;\n\n      // Pemicu download\n      document.body.appendChild(a);\n      a.click();\n      window.URL.revokeObjectURL(url);\n      console.log(`PDF berhasil diunduh: ${filename}`);\n      return filename; // Kembalikan nama file jika diperlukan\n    } catch (error) {\n      console.error(\"Error dalam proses download PDF:\", error);\n      throw new Error(`Gagal mengunduh PDF: ${error.message}`);\n    }\n  }, [apiUrl]);\n  return {\n    downloadPDF\n  };\n};\n_s4(usePDF, \"VOFzXvuYHn2g53c3fHwwJIEmuH8=\");\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"SignaturePad\");\n$RefreshReg$(_c2, \"InspectionItem$React.memo\");\n$RefreshReg$(_c3, \"InspectionItem\");\n$RefreshReg$(_c4, \"Dashboard\");","map":{"version":3,"names":["React","useState","useCallback","useRef","Car","FileText","CheckSquare","Clock","X","Trash2","Camera","Download","Loader2","jsxDEV","_jsxDEV","Fragment","_Fragment","API_URL","defaultInspectionSchema","Paint","status","notes","file","Windshield","Windows","Mirrors","Tires","Wheels","SignaturePad","signature","setSignature","_s","canvasRef","isDrawing","setIsDrawing","startDrawing","e","canvas","current","ctx","getContext","rect","getBoundingClientRect","x","clientX","touches","left","y","clientY","top","beginPath","moveTo","draw","lineTo","stroke","preventDefault","stopDrawing","toDataURL","clearSignature","clearRect","width","height","useEffect","lineWidth","lineCap","strokeStyle","addEventListener","window","passive","removeEventListener","className","children","ref","fileName","_jsxFileName","lineNumber","columnNumber","onClick","type","title","_c","InspectionItem","_s2","memo","_c2","item","details","onUpdate","showNotes","setShowNotes","fileInputRef","handleStatusChange","newStatus","handleNotesChange","target","value","handleFileChange","files","reader","FileReader","onloadend","name","dataUrl","result","onerror","console","error","readAsDataURL","removeFile","map","s","onChange","placeholder","rows","accept","src","alt","_c3","Dashboard","_s3","activeStep","setActiveStep","isSubmitting","setIsSubmitting","showModal","setShowModal","modalMessage","setModalMessage","modalType","setModalType","formData","setFormData","date","Date","toISOString","customer","location","firstName","lastName","phone","carBrand","carModel","color","licensePlate","inspection","agreed","downloadPDF","usePDF","apiUrl","handleCustomerChange","prev","handleInspectionUpdate","newDetails","handleSignatureChange","handleAgreementChange","checked","isStep1Valid","cust","isStep3Valid","handleNext","handlePrev","handleSubmit","message","Modal","onClose","isSuccess","isError","isLoading","renderStep","InputGroup","label","readOnly","required","disabled","groups","Object","entries","groupName","items","id","htmlFor","steps","icon","step","_c4","_s4","data","log","MAX_RETRIES","response","i","fetch","method","headers","body","JSON","stringify","ok","errorText","text","Error","substring","delay","Math","pow","Promise","resolve","setTimeout","blob","contentDisposition","get","filename","match","url","URL","createObjectURL","a","document","createElement","style","display","href","download","appendChild","click","revokeObjectURL","$RefreshReg$"],"sources":["/home/ayu/Documents/project-ayu/app-wrap-station/src/dashboard.jsx"],"sourcesContent":["import React, { useState, useCallback, useRef } from 'react';\n// import { usePDF } from './usePDF'; // BARIS INI DIHAPUS\nimport { Car, FileText, CheckSquare, Clock, X, Trash2, Camera, Download, Loader2 } from 'lucide-react'; \n\n// Konfigurasi API Endpoint\nconst API_URL = \"http://localhost:4000/api/generate-pdf\";\n\n// Skema data inspeksi default\nconst defaultInspectionSchema = {\n  Paint: { status: 'G', notes: '', file: null },\n  Windshield: { status: 'G', notes: '', file: null },\n  Windows: { status: 'G', notes: '', file: null },\n  Mirrors: { status: 'G', notes: '', file: null },\n  'Rear Window': { status: 'G', notes: '', file: null },\n  Tires: { status: 'G', notes: '', file: null },\n  Wheels: { status: 'G', notes: '', file: null },\n};\n\n// Component Tanda Tangan\nconst SignaturePad = ({ signature, setSignature }) => {\n  const canvasRef = useRef(null);\n  const [isDrawing, setIsDrawing] = useState(false);\n\n  const startDrawing = (e) => {\n    setIsDrawing(true);\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const rect = canvas.getBoundingClientRect();\n    const x = (e.clientX || e.touches[0].clientX) - rect.left;\n    const y = (e.clientY || e.touches[0].clientY) - rect.top;\n    ctx.beginPath();\n    ctx.moveTo(x, y);\n  };\n\n  const draw = (e) => {\n    if (!isDrawing) return;\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const rect = canvas.getBoundingClientRect();\n    const x = (e.clientX || e.touches[0].clientX) - rect.left;\n    const y = (e.clientY || e.touches[0].clientY) - rect.top;\n    \n    ctx.lineTo(x, y);\n    ctx.stroke();\n    // Cegah scrolling pada touch devices saat menggambar\n    if (e.touches) e.preventDefault();\n  };\n\n  const stopDrawing = () => {\n    if (isDrawing) {\n      setIsDrawing(false);\n      const canvas = canvasRef.current;\n      setSignature(canvas.toDataURL('image/png'));\n    }\n  };\n\n  const clearSignature = () => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    setSignature('');\n  };\n\n  React.useEffect(() => {\n    const canvas = canvasRef.current;\n    if (canvas) {\n      const ctx = canvas.getContext('2d');\n      ctx.lineWidth = 2;\n      ctx.lineCap = 'round';\n      ctx.strokeStyle = '#000';\n    }\n  }, []);\n\n  // Tambahkan listener untuk mouse/touch events\n  React.useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    canvas.addEventListener('mousedown', startDrawing);\n    canvas.addEventListener('mousemove', draw);\n    window.addEventListener('mouseup', stopDrawing);\n    \n    canvas.addEventListener('touchstart', startDrawing, { passive: false });\n    canvas.addEventListener('touchmove', draw, { passive: false });\n    window.addEventListener('touchend', stopDrawing);\n\n    return () => {\n      canvas.removeEventListener('mousedown', startDrawing);\n      canvas.removeEventListener('mousemove', draw);\n      window.removeEventListener('mouseup', stopDrawing);\n      \n      canvas.removeEventListener('touchstart', startDrawing);\n      canvas.removeEventListener('touchmove', draw);\n      window.removeEventListener('touchend', stopDrawing);\n    };\n  }, [isDrawing, setSignature]);\n\n\n  return (\n    <div className=\"relative border border-gray-300 rounded-lg shadow-inner bg-white\">\n      <canvas\n        ref={canvasRef}\n        width={400} \n        height={200}\n        className=\"w-full h-full\"\n      />\n      <button \n        onClick={clearSignature}\n        type=\"button\"\n        className=\"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition duration-150 shadow-lg\"\n        title=\"Hapus Tanda Tangan\"\n      >\n        <X className=\"w-5 h-5\" />\n      </button>\n    </div>\n  );\n};\n\n\n// Component Item Inspeksi\nconst InspectionItem = React.memo(({ item, details, onUpdate }) => {\n  const [showNotes, setShowNotes] = useState(false);\n  const fileInputRef = useRef(null);\n\n  const handleStatusChange = (newStatus) => {\n    onUpdate(item, { ...details, status: newStatus });\n  };\n\n  const handleNotesChange = (e) => {\n    onUpdate(item, { ...details, notes: e.target.value });\n  };\n\n  const handleFileChange = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        // Simpan Data URL (Base64) dan nama file\n        onUpdate(item, { \n          ...details, \n          file: {\n            name: file.name,\n            dataUrl: reader.result \n          }\n        });\n      };\n      reader.onerror = () => {\n         console.error(\"Gagal membaca file.\");\n         onUpdate(item, { ...details, file: null });\n      };\n      reader.readAsDataURL(file);\n    } else {\n      onUpdate(item, { ...details, file: null });\n    }\n  };\n\n  const removeFile = () => {\n    onUpdate(item, { ...details, file: null });\n    // Reset input file agar bisa memilih file yang sama lagi\n    if (fileInputRef.current) {\n      fileInputRef.current.value = null;\n    }\n  };\n\n  return (\n    <div className=\"bg-white p-4 rounded-lg shadow-sm border border-gray-200 mb-4\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center space-x-2 w-3/4\">\n          {/* Status Buttons */}\n          <div className=\"flex space-x-1\">\n            {['G', 'F', 'P'].map((s) => (\n              <button\n                key={s}\n                onClick={() => handleStatusChange(s)}\n                className={`w-10 h-10 font-bold rounded-lg transition duration-150 ${\n                  details.status === s \n                    ? s === 'G' ? 'bg-green-600 text-white shadow-lg' : s === 'F' ? 'bg-yellow-500 text-gray-800 shadow-lg' : 'bg-red-600 text-white shadow-lg'\n                    : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\n                }`}\n              >\n                {s}\n              </button>\n            ))}\n          </div>\n          {/* Item Name */}\n          <h3 className=\"text-lg font-semibold text-gray-800\">{item}</h3>\n        </div>\n\n        {/* Note/Toggle Button */}\n        <button\n          onClick={() => setShowNotes(!showNotes)}\n          className={`p-2 rounded-full transition duration-200 ${\n            showNotes ? 'bg-indigo-600 text-white shadow-md' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n          }`}\n          title={showNotes ? 'Sembunyikan Catatan' : 'Tampilkan Catatan'}\n        >\n          {showNotes ? <X className=\"w-5 h-5\" /> : <FileText className=\"w-5 h-5\" />}\n        </button>\n      </div>\n\n      {/* Notes & File Section */}\n      {showNotes && (\n        <div className=\"mt-4 p-4 border-t border-gray-200\">\n          <textarea\n            value={details.notes}\n            onChange={handleNotesChange}\n            placeholder={`Tambahkan catatan untuk ${item}...`}\n            rows=\"3\"\n            className=\"w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 resize-none text-sm\"\n          />\n          \n          <div className=\"mt-2 flex items-center justify-between\">\n            <label className=\"text-sm font-medium text-gray-700 flex items-center space-x-2 cursor-pointer bg-indigo-100 px-3 py-1.5 rounded-md hover:bg-indigo-200 transition duration-150\">\n                <Camera className=\"w-4 h-4 text-indigo-600\" />\n                <span>Pilih File</span>\n                <input \n                    type=\"file\" \n                    ref={fileInputRef}\n                    onChange={handleFileChange} \n                    className=\"hidden\" \n                    accept=\"image/*\"\n                />\n            </label>\n            \n            {details.file ? (\n              <div className=\"flex items-center space-x-2 text-sm text-gray-600\">\n                <span className=\"truncate max-w-xs\">{details.file.name}</span>\n                <button onClick={removeFile} type=\"button\" className=\"text-red-500 hover:text-red-700\">\n                  <Trash2 className=\"w-4 h-4\" />\n                </button>\n              </div>\n            ) : (\n              <span className=\"text-sm text-gray-500\">Tidak ada file terlampir.</span>\n            )}\n          </div>\n          {details.file && details.file.dataUrl && (\n             <img src={details.file.dataUrl} alt=\"Preview\" className=\"mt-3 w-32 h-32 object-cover rounded-md border border-gray-300\" />\n          )}\n        </div>\n      )}\n    </div>\n  );\n});\n\n\n// Component Utama Dashboard\nconst Dashboard = () => {\n  const [activeStep, setActiveStep] = useState(1);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [modalMessage, setModalMessage] = useState('');\n  const [modalType, setModalType] = useState('success'); // 'success' or 'error'\n\n  const [formData, setFormData] = useState({\n    date: new Date().toISOString(),\n    customer: {\n      location: 'Wrap Station Medan',\n      firstName: '',\n      lastName: '',\n      phone: '',\n      carBrand: '',\n      carModel: '',\n      color: '',\n      licensePlate: '',\n    },\n    inspection: defaultInspectionSchema,\n    agreed: false,\n    signature: '',\n  });\n\n  // Kustom hook untuk logika Fetch PDF\n  const { downloadPDF } = usePDF({ apiUrl: API_URL });\n\n  const handleCustomerChange = useCallback((e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      customer: {\n        ...prev.customer,\n        [name]: value,\n      },\n    }));\n  }, []);\n\n  const handleInspectionUpdate = useCallback((item, newDetails) => {\n    setFormData(prev => ({\n      ...prev,\n      inspection: {\n        ...prev.inspection,\n        [item]: newDetails,\n      },\n    }));\n  }, []);\n\n  const handleSignatureChange = useCallback((dataUrl) => {\n    setFormData(prev => ({ ...prev, signature: dataUrl }));\n  }, []);\n\n  const handleAgreementChange = useCallback((e) => {\n    setFormData(prev => ({ ...prev, agreed: e.target.checked }));\n  }, []);\n\n  const isStep1Valid = () => {\n    const cust = formData.customer;\n    return cust.firstName && cust.lastName && cust.phone && cust.carBrand && cust.carModel && cust.licensePlate;\n  };\n\n  const isStep3Valid = () => {\n    return formData.agreed && formData.signature;\n  };\n\n  const handleNext = () => {\n    if (activeStep === 1 && !isStep1Valid()) {\n      // Mengganti alert() dengan modal\n      setModalMessage('Harap isi semua detail pelanggan dan kendaraan wajib.');\n      setModalType('error');\n      setShowModal(true);\n      return;\n    }\n    setActiveStep(prev => prev + 1);\n  };\n\n  const handlePrev = () => {\n    setActiveStep(prev => prev - 1);\n  };\n\n  const handleSubmit = async () => {\n    if (!isStep3Valid()) {\n      setModalMessage('Anda harus menandatangani dan menyetujui Syarat & Ketentuan.');\n      setModalType('error');\n      setShowModal(true);\n      return;\n    }\n\n    setIsSubmitting(true);\n    setModalMessage('Membuat PDF...');\n    setModalType('loading'); // Custom type for loading state\n    setShowModal(true);\n\n    try {\n      // Panggil hook untuk mendownload PDF\n      await downloadPDF(formData);\n\n      setModalMessage('Inspeksi Berhasil Ditambahkan dan PDF Diunduh!');\n      setModalType('success');\n      \n      // Reset Form Data setelah sukses\n      setFormData({\n        date: new Date().toISOString(),\n        customer: {\n          location: 'Wrap Station Medan',\n          firstName: '',\n          lastName: '',\n          phone: '',\n          carBrand: '',\n          carModel: '',\n          color: '',\n          licensePlate: '',\n        },\n        inspection: defaultInspectionSchema,\n        agreed: false,\n        signature: '',\n      });\n      setActiveStep(1); // Kembali ke langkah pertama\n      \n    } catch (error) {\n      console.error('Error saat submit/mengunduh PDF:', error);\n      setModalMessage(`Gagal mengunduh PDF: ${error.message || 'Periksa koneksi server.'}`);\n      setModalType('error');\n    } finally {\n      setIsSubmitting(false);\n      // Modal tetap terbuka dengan pesan sukses/gagal\n    }\n  };\n\n\n  // Custom Modal Component\n  const Modal = ({ message, type, onClose }) => {\n    const isSuccess = type === 'success';\n    const isError = type === 'error';\n    const isLoading = type === 'loading';\n\n    return (\n      <div className=\"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50 p-4\">\n        <div className=\"bg-white p-8 rounded-xl shadow-2xl w-full max-w-sm text-center transform transition-all duration-300 scale-100\">\n          \n          <div className={`mx-auto w-16 h-16 rounded-full flex items-center justify-center mb-4 ${\n             isSuccess ? 'bg-green-100' : isError ? 'bg-red-100' : 'bg-indigo-100'\n          }`}>\n            {isLoading ? (\n               <Loader2 className=\"w-8 h-8 text-indigo-600 animate-spin\" />\n            ) : isSuccess ? (\n              <CheckSquare className=\"w-8 h-8 text-green-600\" />\n            ) : (\n              <X className=\"w-8 h-8 text-red-600\" />\n            )}\n          </div>\n          \n          <h3 className=\"text-xl font-bold mb-2 text-gray-800\">\n            {isLoading ? 'Processing...' : isSuccess ? 'Success' : 'Error'}\n          </h3>\n          <p className=\"text-gray-600 mb-6\">{message}</p>\n\n          {!isLoading && (\n            <button\n              onClick={onClose}\n              className={`w-full py-2 rounded-lg font-semibold transition duration-200 ${\n                isSuccess ? 'bg-indigo-600 hover:bg-indigo-700 text-white shadow-md' : 'bg-gray-300 hover:bg-gray-400 text-gray-800'\n              }`}\n            >\n              OK\n            </button>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n\n  const renderStep = () => {\n    switch (activeStep) {\n      case 1:\n        // STEP 1: Customer Details\n        return (\n          <div className=\"space-y-6\">\n            <h2 className=\"text-2xl font-bold text-gray-800 border-b pb-2 mb-4\">Detail Pelanggan & Kendaraan</h2>\n            \n            <InputGroup label=\"Lokasi\" value={formData.customer.location} name=\"location\" readOnly={true} />\n            <InputGroup label=\"Nama Depan Pelanggan\" value={formData.customer.firstName} name=\"firstName\" onChange={handleCustomerChange} required={true}/>\n            <InputGroup label=\"Nama Belakang Pelanggan\" value={formData.customer.lastName} name=\"lastName\" onChange={handleCustomerChange} required={true}/>\n            <InputGroup label=\"Nomor Telepon Pelanggan\" value={formData.customer.phone} name=\"phone\" onChange={handleCustomerChange} required={true}/>\n            <InputGroup label=\"Merek Mobil\" value={formData.customer.carBrand} name=\"carBrand\" onChange={handleCustomerChange} required={true}/>\n            <InputGroup label=\"Model Mobil\" value={formData.customer.carModel} name=\"carModel\" onChange={handleCustomerChange} required={true}/>\n            <InputGroup label=\"Warna\" value={formData.customer.color} name=\"color\" onChange={handleCustomerChange}/>\n            <InputGroup label=\"Plat Nomor\" value={formData.customer.licensePlate} name=\"licensePlate\" onChange={handleCustomerChange} required={true}/>\n            \n            <div className=\"flex justify-end pt-4\">\n              <button \n                onClick={handleNext} \n                disabled={!isStep1Valid()}\n                className=\"px-6 py-2 bg-indigo-600 text-white font-semibold rounded-lg shadow-md hover:bg-indigo-700 transition duration-200 disabled:opacity-50\"\n              >\n                Selanjutnya <span aria-hidden=\"true\">&rarr;</span>\n              </button>\n            </div>\n          </div>\n        );\n\n      case 2:\n        // STEP 2: Inspection\n        \n        // Group items for better UI layout\n        const groups = {\n          'Body Paint': ['Paint'],\n          'Glass': ['Windshield', 'Windows', 'Mirrors', 'Rear Window'],\n          'Wheels & Tires': ['Tires', 'Wheels'],\n        };\n\n        return (\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-800 border-b pb-2 mb-4\">Detail Inspeksi</h2>\n            \n            <div className=\"flex items-center space-x-4 mb-6 text-sm font-semibold\">\n                <span className=\"text-green-600\">G = Baik (Good)</span>\n                <span className=\"text-yellow-500\">F = Cukup (Fair)</span>\n                <span className=\"text-red-600\">P = Buruk (Poor)</span>\n            </div>\n\n            {Object.entries(groups).map(([groupName, items]) => (\n                <div key={groupName} className=\"mb-8\">\n                    <h3 className=\"text-xl font-bold text-indigo-700 mb-4\">{groupName}</h3>\n                    <div className=\"space-y-4\">\n                        {items.map(item => (\n                            <InspectionItem \n                                key={item}\n                                item={item} \n                                details={formData.inspection[item]} \n                                onUpdate={handleInspectionUpdate}\n                            />\n                        ))}\n                    </div>\n                </div>\n            ))}\n\n            <div className=\"flex justify-between pt-4\">\n              <button \n                onClick={handlePrev}\n                className=\"px-6 py-2 bg-gray-300 text-gray-800 font-semibold rounded-lg shadow-md hover:bg-gray-400 transition duration-200\"\n              >\n                &larr; Sebelumnya\n              </button>\n              <button \n                onClick={handleNext} \n                className=\"px-6 py-2 bg-indigo-600 text-white font-semibold rounded-lg shadow-md hover:bg-indigo-700 transition duration-200\"\n              >\n                Selanjutnya <span aria-hidden=\"true\">&rarr;</span>\n              </button>\n            </div>\n          </div>\n        );\n\n      case 3:\n        // STEP 3: Terms & Signature\n        return (\n          <div className=\"space-y-6\">\n            <h2 className=\"text-2xl font-bold text-gray-800 border-b pb-2 mb-4\">Syarat & Tanda Tangan</h2>\n            \n            {/* Terms and Conditions */}\n            <div className=\"bg-gray-50 p-6 rounded-lg border border-gray-200 h-64 overflow-y-scroll text-sm text-gray-700\">\n                <h3 className=\"font-bold text-lg mb-3 text-indigo-700\">Syarat dan Ketentuan - Serah Terima Kendaraan di Wrap Station</h3>\n                <ol className=\"list-decimal list-inside space-y-2\">\n                    <li>Kondisi kendaraan dapat berubah setelah pembersihan. Tim akan menginformasikan jika ada perubahan.</li>\n                    <li>Status cat kendaraan (repaint/original) tidak dapat dipastikan, risiko ditanggung pemilik.</li>\n                    <li>Penambahan jarak tempuh (mileage) bisa terjadi, dan bukan tanggung jawab Wrap Station.</li>\n                    <li>Kerusakan/malfungsi mesin selama atau setelah pengerjaan bukan tanggung jawab Wrap Station.</li>\n                    <li>Kerusakan akibat pembongkaran aksesori oleh pelanggan bukan tanggung jawab Wrap Station.</li>\n                    <li>Kehilangan barang pribadi bukan tanggung jawab Wrap Station.</li>\n                    <li>Wrap Station berhak melakukan tindakan teknis yang diperlukan tanpa persetujuan lebih lanjut.</li>\n                    <li>Kondisi/modifikasi khusus yang tidak diinformasikan di awal dapat membatalkan garansi.</li>\n                    <li>Penurunan baterai EV adalah kondisi alami, bukan tanggung jawab kami.</li>\n                    <li>Estimasi pengerjaan dapat berubah karena faktor tak terduga.</li>\n                </ol>\n            </div>\n\n            {/* Agreement Checkbox */}\n            <div className=\"flex items-start mt-4\">\n                <input\n                    type=\"checkbox\"\n                    id=\"agreed\"\n                    checked={formData.agreed}\n                    onChange={handleAgreementChange}\n                    className=\"mt-1 h-5 w-5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500\"\n                />\n                <label htmlFor=\"agreed\" className=\"ml-3 text-base text-gray-900 font-medium\">\n                    Saya telah membaca dan menyetujui Syarat & Ketentuan.\n                </label>\n            </div>\n\n            {/* Signature Pad */}\n            <div className=\"pt-4\">\n              <h3 className=\"text-xl font-bold text-gray-800 mb-2\">Tanda Tangan Pelanggan</h3>\n              <SignaturePad \n                signature={formData.signature} \n                setSignature={handleSignatureChange} \n              />\n            </div>\n\n\n            <div className=\"flex justify-between pt-6\">\n              <button \n                onClick={handlePrev}\n                className=\"px-6 py-2 bg-gray-300 text-gray-800 font-semibold rounded-lg shadow-md hover:bg-gray-400 transition duration-200\"\n              >\n                &larr; Sebelumnya\n              </button>\n              <button \n                onClick={handleSubmit} \n                disabled={isSubmitting || !isStep3Valid()}\n                className=\"flex items-center justify-center space-x-2 px-6 py-2 bg-indigo-600 text-white font-semibold rounded-lg shadow-xl hover:bg-indigo-700 transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                 {isSubmitting ? (\n                    <>\n                       <Loader2 className=\"w-5 h-5 animate-spin\" />\n                       <span>Membuat PDF...</span>\n                    </>\n                 ) : (\n                    <>\n                       <Download className=\"w-5 h-5\" />\n                       <span>Submit Inspection & Download PDF</span>\n                    </>\n                 )}\n              </button>\n            </div>\n          </div>\n        );\n\n      default:\n        return <div>Langkah Tidak Dikenal</div>;\n    }\n  };\n\n  // Helper component for standard input\n  const InputGroup = ({ label, value, name, onChange, readOnly = false, required = false }) => (\n    <div>\n        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n            {label} {required && <span className=\"text-red-500\">*</span>}\n        </label>\n        <input\n            type=\"text\"\n            name={name}\n            value={value}\n            onChange={onChange}\n            readOnly={readOnly}\n            className={`w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none ${\n                readOnly \n                    ? 'bg-gray-100 border-gray-200 text-gray-500' \n                    : 'border-gray-300 focus:ring-indigo-500 focus:border-indigo-500'\n            }`}\n        />\n    </div>\n  );\n\n\n  // Navigasi Langkah\n  const steps = [\n    { id: 1, name: 'Detail Kendaraan', icon: Car },\n    { id: 2, name: 'Inspeksi', icon: FileText },\n    { id: 3, name: 'Tanda Tangan', icon: CheckSquare },\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 pb-16\">\n      <header className=\"bg-white shadow-md\">\n        <div className=\"max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8 flex justify-between items-center\">\n          <div className=\"flex items-center space-x-3\">\n            <Clock className=\"w-8 h-8 text-indigo-600\" />\n            <h1 className=\"text-2xl font-extrabold text-gray-900\">WRAP STATION</h1>\n          </div>\n          <div className=\"text-sm font-medium text-gray-500\">\n             Inspeksi Kendaraan\n          </div>\n        </div>\n      </header>\n      \n      <main className=\"max-w-4xl mx-auto pt-8 px-4 sm:px-6 lg:px-8\">\n        {/* Step Navigation */}\n        <nav className=\"flex justify-between border-b-2 border-gray-200 mb-8\" aria-label=\"Progress\">\n          {steps.map((step) => (\n            <div \n              key={step.id} \n              className={`flex-1 flex flex-col items-center pb-4 transition-colors duration-300 ${\n                activeStep === step.id ? 'border-indigo-600 border-b-4' : 'border-transparent'\n              }`}\n            >\n              <div className={`flex items-center space-x-2 ${\n                activeStep >= step.id ? 'text-indigo-600' : 'text-gray-400'\n              }`}>\n                <step.icon className=\"w-6 h-6\" />\n                <span className=\"hidden sm:inline text-sm font-medium\">\n                  {step.name}\n                </span>\n              </div>\n            </div>\n          ))}\n        </nav>\n\n        {/* Form Content */}\n        <div className=\"bg-white p-8 rounded-xl shadow-lg\">\n          {renderStep()}\n        </div>\n      </main>\n\n      {/* Modal */}\n      {showModal && (\n        <Modal \n          message={modalMessage} \n          type={modalType} \n          onClose={() => setShowModal(false)}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Dashboard;\n\n// --- usePDF Hook (Disalin di sini untuk fungsionalitas React satu file) ---\n// Hook kustom untuk menangani logika fetch dan download PDF\nconst usePDF = ({ apiUrl }) => {\n    \n    // Fungsi untuk mengunduh PDF\n    const downloadPDF = useCallback(async (data) => {\n        try {\n            console.log(\"Mengirim data inspeksi ke backend...\");\n            // Logika retri (Exponential Backoff) untuk koneksi yang tidak stabil\n            const MAX_RETRIES = 3;\n            let response;\n            \n            for (let i = 0; i < MAX_RETRIES; i++) {\n                try {\n                    response = await fetch(apiUrl, {\n                        method: 'POST',\n                        headers: {\n                            'Content-Type': 'application/json',\n                        },\n                        body: JSON.stringify(data),\n                    });\n                    \n                    if (response.ok) {\n                        break; // Sukses, keluar dari loop retry\n                    } else if (i === MAX_RETRIES - 1) {\n                         // Setelah percobaan terakhir, jika masih gagal\n                         const errorText = await response.text();\n                         throw new Error(`Server error (${response.status}): ${errorText.substring(0, 100)}...`);\n                    }\n\n                } catch (error) {\n                    if (i === MAX_RETRIES - 1) {\n                        throw new Error(`Gagal mengunduh PDF setelah ${MAX_RETRIES} kali percobaan.`);\n                    }\n                    // Tunggu sebelum percobaan berikutnya\n                    const delay = Math.pow(2, i) * 1000; // 1s, 2s, 4s\n                    await new Promise(resolve => setTimeout(resolve, delay));\n                }\n            }\n\n\n            // Dapatkan blob PDF dari respons\n            const blob = await response.blob();\n            \n            // Dapatkan nama file dari header Content-Disposition jika tersedia\n            const contentDisposition = response.headers.get('Content-Disposition');\n            let filename = 'Inspection_Report.pdf';\n            if (contentDisposition) {\n                const match = contentDisposition.match(/filename=\"(.+)\"/);\n                if (match && match[1]) {\n                    filename = match[1];\n                }\n            }\n\n            // Buat URL objek dan link download\n            const url = window.URL.createObjectURL(blob);\n            const a = document.createElement('a');\n            a.style.display = 'none';\n            a.href = url;\n            a.download = filename;\n            \n            // Pemicu download\n            document.body.appendChild(a);\n            a.click();\n            window.URL.revokeObjectURL(url);\n            \n            console.log(`PDF berhasil diunduh: ${filename}`);\n            return filename; // Kembalikan nama file jika diperlukan\n            \n        } catch (error) {\n            console.error(\"Error dalam proses download PDF:\", error);\n            throw new Error(`Gagal mengunduh PDF: ${error.message}`);\n        }\n    }, [apiUrl]);\n\n    return { downloadPDF };\n};"],"mappings":";;;;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,WAAW,EAAEC,MAAM,QAAQ,OAAO;AAC5D;AACA,SAASC,GAAG,EAAEC,QAAQ,EAAEC,WAAW,EAAEC,KAAK,EAAEC,CAAC,EAAEC,MAAM,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,OAAO,QAAQ,cAAc;;AAEtG;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACA,MAAMC,OAAO,GAAG,wCAAwC;;AAExD;AACA,MAAMC,uBAAuB,GAAG;EAC9BC,KAAK,EAAE;IAAEC,MAAM,EAAE,GAAG;IAAEC,KAAK,EAAE,EAAE;IAAEC,IAAI,EAAE;EAAK,CAAC;EAC7CC,UAAU,EAAE;IAAEH,MAAM,EAAE,GAAG;IAAEC,KAAK,EAAE,EAAE;IAAEC,IAAI,EAAE;EAAK,CAAC;EAClDE,OAAO,EAAE;IAAEJ,MAAM,EAAE,GAAG;IAAEC,KAAK,EAAE,EAAE;IAAEC,IAAI,EAAE;EAAK,CAAC;EAC/CG,OAAO,EAAE;IAAEL,MAAM,EAAE,GAAG;IAAEC,KAAK,EAAE,EAAE;IAAEC,IAAI,EAAE;EAAK,CAAC;EAC/C,aAAa,EAAE;IAAEF,MAAM,EAAE,GAAG;IAAEC,KAAK,EAAE,EAAE;IAAEC,IAAI,EAAE;EAAK,CAAC;EACrDI,KAAK,EAAE;IAAEN,MAAM,EAAE,GAAG;IAAEC,KAAK,EAAE,EAAE;IAAEC,IAAI,EAAE;EAAK,CAAC;EAC7CK,MAAM,EAAE;IAAEP,MAAM,EAAE,GAAG;IAAEC,KAAK,EAAE,EAAE;IAAEC,IAAI,EAAE;EAAK;AAC/C,CAAC;;AAED;AACA,MAAMM,YAAY,GAAGA,CAAC;EAAEC,SAAS;EAAEC;AAAa,CAAC,KAAK;EAAAC,EAAA;EACpD,MAAMC,SAAS,GAAG7B,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAM,CAAC8B,SAAS,EAAEC,YAAY,CAAC,GAAGjC,QAAQ,CAAC,KAAK,CAAC;EAEjD,MAAMkC,YAAY,GAAIC,CAAC,IAAK;IAC1BF,YAAY,CAAC,IAAI,CAAC;IAClB,MAAMG,MAAM,GAAGL,SAAS,CAACM,OAAO;IAChC,MAAMC,GAAG,GAAGF,MAAM,CAACG,UAAU,CAAC,IAAI,CAAC;IACnC,MAAMC,IAAI,GAAGJ,MAAM,CAACK,qBAAqB,CAAC,CAAC;IAC3C,MAAMC,CAAC,GAAG,CAACP,CAAC,CAACQ,OAAO,IAAIR,CAAC,CAACS,OAAO,CAAC,CAAC,CAAC,CAACD,OAAO,IAAIH,IAAI,CAACK,IAAI;IACzD,MAAMC,CAAC,GAAG,CAACX,CAAC,CAACY,OAAO,IAAIZ,CAAC,CAACS,OAAO,CAAC,CAAC,CAAC,CAACG,OAAO,IAAIP,IAAI,CAACQ,GAAG;IACxDV,GAAG,CAACW,SAAS,CAAC,CAAC;IACfX,GAAG,CAACY,MAAM,CAACR,CAAC,EAAEI,CAAC,CAAC;EAClB,CAAC;EAED,MAAMK,IAAI,GAAIhB,CAAC,IAAK;IAClB,IAAI,CAACH,SAAS,EAAE;IAChB,MAAMI,MAAM,GAAGL,SAAS,CAACM,OAAO;IAChC,MAAMC,GAAG,GAAGF,MAAM,CAACG,UAAU,CAAC,IAAI,CAAC;IACnC,MAAMC,IAAI,GAAGJ,MAAM,CAACK,qBAAqB,CAAC,CAAC;IAC3C,MAAMC,CAAC,GAAG,CAACP,CAAC,CAACQ,OAAO,IAAIR,CAAC,CAACS,OAAO,CAAC,CAAC,CAAC,CAACD,OAAO,IAAIH,IAAI,CAACK,IAAI;IACzD,MAAMC,CAAC,GAAG,CAACX,CAAC,CAACY,OAAO,IAAIZ,CAAC,CAACS,OAAO,CAAC,CAAC,CAAC,CAACG,OAAO,IAAIP,IAAI,CAACQ,GAAG;IAExDV,GAAG,CAACc,MAAM,CAACV,CAAC,EAAEI,CAAC,CAAC;IAChBR,GAAG,CAACe,MAAM,CAAC,CAAC;IACZ;IACA,IAAIlB,CAAC,CAACS,OAAO,EAAET,CAAC,CAACmB,cAAc,CAAC,CAAC;EACnC,CAAC;EAED,MAAMC,WAAW,GAAGA,CAAA,KAAM;IACxB,IAAIvB,SAAS,EAAE;MACbC,YAAY,CAAC,KAAK,CAAC;MACnB,MAAMG,MAAM,GAAGL,SAAS,CAACM,OAAO;MAChCR,YAAY,CAACO,MAAM,CAACoB,SAAS,CAAC,WAAW,CAAC,CAAC;IAC7C;EACF,CAAC;EAED,MAAMC,cAAc,GAAGA,CAAA,KAAM;IAC3B,MAAMrB,MAAM,GAAGL,SAAS,CAACM,OAAO;IAChC,MAAMC,GAAG,GAAGF,MAAM,CAACG,UAAU,CAAC,IAAI,CAAC;IACnCD,GAAG,CAACoB,SAAS,CAAC,CAAC,EAAE,CAAC,EAAEtB,MAAM,CAACuB,KAAK,EAAEvB,MAAM,CAACwB,MAAM,CAAC;IAChD/B,YAAY,CAAC,EAAE,CAAC;EAClB,CAAC;EAED9B,KAAK,CAAC8D,SAAS,CAAC,MAAM;IACpB,MAAMzB,MAAM,GAAGL,SAAS,CAACM,OAAO;IAChC,IAAID,MAAM,EAAE;MACV,MAAME,GAAG,GAAGF,MAAM,CAACG,UAAU,CAAC,IAAI,CAAC;MACnCD,GAAG,CAACwB,SAAS,GAAG,CAAC;MACjBxB,GAAG,CAACyB,OAAO,GAAG,OAAO;MACrBzB,GAAG,CAAC0B,WAAW,GAAG,MAAM;IAC1B;EACF,CAAC,EAAE,EAAE,CAAC;;EAEN;EACAjE,KAAK,CAAC8D,SAAS,CAAC,MAAM;IACpB,MAAMzB,MAAM,GAAGL,SAAS,CAACM,OAAO;IAChC,IAAI,CAACD,MAAM,EAAE;IAEbA,MAAM,CAAC6B,gBAAgB,CAAC,WAAW,EAAE/B,YAAY,CAAC;IAClDE,MAAM,CAAC6B,gBAAgB,CAAC,WAAW,EAAEd,IAAI,CAAC;IAC1Ce,MAAM,CAACD,gBAAgB,CAAC,SAAS,EAAEV,WAAW,CAAC;IAE/CnB,MAAM,CAAC6B,gBAAgB,CAAC,YAAY,EAAE/B,YAAY,EAAE;MAAEiC,OAAO,EAAE;IAAM,CAAC,CAAC;IACvE/B,MAAM,CAAC6B,gBAAgB,CAAC,WAAW,EAAEd,IAAI,EAAE;MAAEgB,OAAO,EAAE;IAAM,CAAC,CAAC;IAC9DD,MAAM,CAACD,gBAAgB,CAAC,UAAU,EAAEV,WAAW,CAAC;IAEhD,OAAO,MAAM;MACXnB,MAAM,CAACgC,mBAAmB,CAAC,WAAW,EAAElC,YAAY,CAAC;MACrDE,MAAM,CAACgC,mBAAmB,CAAC,WAAW,EAAEjB,IAAI,CAAC;MAC7Ce,MAAM,CAACE,mBAAmB,CAAC,SAAS,EAAEb,WAAW,CAAC;MAElDnB,MAAM,CAACgC,mBAAmB,CAAC,YAAY,EAAElC,YAAY,CAAC;MACtDE,MAAM,CAACgC,mBAAmB,CAAC,WAAW,EAAEjB,IAAI,CAAC;MAC7Ce,MAAM,CAACE,mBAAmB,CAAC,UAAU,EAAEb,WAAW,CAAC;IACrD,CAAC;EACH,CAAC,EAAE,CAACvB,SAAS,EAAEH,YAAY,CAAC,CAAC;EAG7B,oBACEhB,OAAA;IAAKwD,SAAS,EAAC,kEAAkE;IAAAC,QAAA,gBAC/EzD,OAAA;MACE0D,GAAG,EAAExC,SAAU;MACf4B,KAAK,EAAE,GAAI;MACXC,MAAM,EAAE,GAAI;MACZS,SAAS,EAAC;IAAe;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1B,CAAC,eACF9D,OAAA;MACE+D,OAAO,EAAEnB,cAAe;MACxBoB,IAAI,EAAC,QAAQ;MACbR,SAAS,EAAC,kHAAkH;MAC5HS,KAAK,EAAC,oBAAoB;MAAAR,QAAA,eAE1BzD,OAAA,CAACN,CAAC;QAAC8D,SAAS,EAAC;MAAS;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnB,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV,CAAC;;AAGD;AAAA7C,EAAA,CApGMH,YAAY;AAAAoD,EAAA,GAAZpD,YAAY;AAqGlB,MAAMqD,cAAc,gBAAAC,GAAA,cAAGlF,KAAK,CAACmF,IAAI,CAAAC,GAAA,GAAAF,GAAA,CAAC,CAAC;EAAEG,IAAI;EAAEC,OAAO;EAAEC;AAAS,CAAC,KAAK;EAAAL,GAAA;EACjE,MAAM,CAACM,SAAS,EAAEC,YAAY,CAAC,GAAGxF,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAMyF,YAAY,GAAGvF,MAAM,CAAC,IAAI,CAAC;EAEjC,MAAMwF,kBAAkB,GAAIC,SAAS,IAAK;IACxCL,QAAQ,CAACF,IAAI,EAAE;MAAE,GAAGC,OAAO;MAAElE,MAAM,EAAEwE;IAAU,CAAC,CAAC;EACnD,CAAC;EAED,MAAMC,iBAAiB,GAAIzD,CAAC,IAAK;IAC/BmD,QAAQ,CAACF,IAAI,EAAE;MAAE,GAAGC,OAAO;MAAEjE,KAAK,EAAEe,CAAC,CAAC0D,MAAM,CAACC;IAAM,CAAC,CAAC;EACvD,CAAC;EAED,MAAMC,gBAAgB,GAAI5D,CAAC,IAAK;IAC9B,MAAMd,IAAI,GAAGc,CAAC,CAAC0D,MAAM,CAACG,KAAK,CAAC,CAAC,CAAC;IAC9B,IAAI3E,IAAI,EAAE;MACR,MAAM4E,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;MAC/BD,MAAM,CAACE,SAAS,GAAG,MAAM;QACvB;QACAb,QAAQ,CAACF,IAAI,EAAE;UACb,GAAGC,OAAO;UACVhE,IAAI,EAAE;YACJ+E,IAAI,EAAE/E,IAAI,CAAC+E,IAAI;YACfC,OAAO,EAAEJ,MAAM,CAACK;UAClB;QACF,CAAC,CAAC;MACJ,CAAC;MACDL,MAAM,CAACM,OAAO,GAAG,MAAM;QACpBC,OAAO,CAACC,KAAK,CAAC,qBAAqB,CAAC;QACpCnB,QAAQ,CAACF,IAAI,EAAE;UAAE,GAAGC,OAAO;UAAEhE,IAAI,EAAE;QAAK,CAAC,CAAC;MAC7C,CAAC;MACD4E,MAAM,CAACS,aAAa,CAACrF,IAAI,CAAC;IAC5B,CAAC,MAAM;MACLiE,QAAQ,CAACF,IAAI,EAAE;QAAE,GAAGC,OAAO;QAAEhE,IAAI,EAAE;MAAK,CAAC,CAAC;IAC5C;EACF,CAAC;EAED,MAAMsF,UAAU,GAAGA,CAAA,KAAM;IACvBrB,QAAQ,CAACF,IAAI,EAAE;MAAE,GAAGC,OAAO;MAAEhE,IAAI,EAAE;IAAK,CAAC,CAAC;IAC1C;IACA,IAAIoE,YAAY,CAACpD,OAAO,EAAE;MACxBoD,YAAY,CAACpD,OAAO,CAACyD,KAAK,GAAG,IAAI;IACnC;EACF,CAAC;EAED,oBACEjF,OAAA;IAAKwD,SAAS,EAAC,+DAA+D;IAAAC,QAAA,gBAC5EzD,OAAA;MAAKwD,SAAS,EAAC,mCAAmC;MAAAC,QAAA,gBAChDzD,OAAA;QAAKwD,SAAS,EAAC,mCAAmC;QAAAC,QAAA,gBAEhDzD,OAAA;UAAKwD,SAAS,EAAC,gBAAgB;UAAAC,QAAA,EAC5B,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAACsC,GAAG,CAAEC,CAAC,iBACrBhG,OAAA;YAEE+D,OAAO,EAAEA,CAAA,KAAMc,kBAAkB,CAACmB,CAAC,CAAE;YACrCxC,SAAS,EAAE,0DACTgB,OAAO,CAAClE,MAAM,KAAK0F,CAAC,GAChBA,CAAC,KAAK,GAAG,GAAG,mCAAmC,GAAGA,CAAC,KAAK,GAAG,GAAG,uCAAuC,GAAG,iCAAiC,GACzI,6CAA6C,EAChD;YAAAvC,QAAA,EAEFuC;UAAC,GARGA,CAAC;YAAArC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OASA,CACT;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAEN9D,OAAA;UAAIwD,SAAS,EAAC,qCAAqC;UAAAC,QAAA,EAAEc;QAAI;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5D,CAAC,eAGN9D,OAAA;QACE+D,OAAO,EAAEA,CAAA,KAAMY,YAAY,CAAC,CAACD,SAAS,CAAE;QACxClB,SAAS,EAAE,4CACTkB,SAAS,GAAG,oCAAoC,GAAG,6CAA6C,EAC/F;QACHT,KAAK,EAAES,SAAS,GAAG,qBAAqB,GAAG,mBAAoB;QAAAjB,QAAA,EAE9DiB,SAAS,gBAAG1E,OAAA,CAACN,CAAC;UAAC8D,SAAS,EAAC;QAAS;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,gBAAG9D,OAAA,CAACT,QAAQ;UAACiE,SAAS,EAAC;QAAS;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,EAGLY,SAAS,iBACR1E,OAAA;MAAKwD,SAAS,EAAC,mCAAmC;MAAAC,QAAA,gBAChDzD,OAAA;QACEiF,KAAK,EAAET,OAAO,CAACjE,KAAM;QACrB0F,QAAQ,EAAElB,iBAAkB;QAC5BmB,WAAW,EAAE,2BAA2B3B,IAAI,KAAM;QAClD4B,IAAI,EAAC,GAAG;QACR3C,SAAS,EAAC;MAAgH;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3H,CAAC,eAEF9D,OAAA;QAAKwD,SAAS,EAAC,wCAAwC;QAAAC,QAAA,gBACrDzD,OAAA;UAAOwD,SAAS,EAAC,+JAA+J;UAAAC,QAAA,gBAC5KzD,OAAA,CAACJ,MAAM;YAAC4D,SAAS,EAAC;UAAyB;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC9C9D,OAAA;YAAAyD,QAAA,EAAM;UAAU;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACvB9D,OAAA;YACIgE,IAAI,EAAC,MAAM;YACXN,GAAG,EAAEkB,YAAa;YAClBqB,QAAQ,EAAEf,gBAAiB;YAC3B1B,SAAS,EAAC,QAAQ;YAClB4C,MAAM,EAAC;UAAS;YAAAzC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,EAEPU,OAAO,CAAChE,IAAI,gBACXR,OAAA;UAAKwD,SAAS,EAAC,mDAAmD;UAAAC,QAAA,gBAChEzD,OAAA;YAAMwD,SAAS,EAAC,mBAAmB;YAAAC,QAAA,EAAEe,OAAO,CAAChE,IAAI,CAAC+E;UAAI;YAAA5B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC9D9D,OAAA;YAAQ+D,OAAO,EAAE+B,UAAW;YAAC9B,IAAI,EAAC,QAAQ;YAACR,SAAS,EAAC,iCAAiC;YAAAC,QAAA,eACpFzD,OAAA,CAACL,MAAM;cAAC6D,SAAS,EAAC;YAAS;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,gBAEN9D,OAAA;UAAMwD,SAAS,EAAC,uBAAuB;UAAAC,QAAA,EAAC;QAAyB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CACxE;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,EACLU,OAAO,CAAChE,IAAI,IAAIgE,OAAO,CAAChE,IAAI,CAACgF,OAAO,iBAClCxF,OAAA;QAAKqG,GAAG,EAAE7B,OAAO,CAAChE,IAAI,CAACgF,OAAQ;QAACc,GAAG,EAAC,SAAS;QAAC9C,SAAS,EAAC;MAA+D;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAC3H;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC,kCAAC;;AAGF;AAAAyC,GAAA,GA7HMpC,cAAc;AA8HpB,MAAMqC,SAAS,GAAGA,CAAA,KAAM;EAAAC,GAAA;EACtB,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGxH,QAAQ,CAAC,CAAC,CAAC;EAC/C,MAAM,CAACyH,YAAY,EAAEC,eAAe,CAAC,GAAG1H,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAAC2H,SAAS,EAAEC,YAAY,CAAC,GAAG5H,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAAC6H,YAAY,EAAEC,eAAe,CAAC,GAAG9H,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAAC+H,SAAS,EAAEC,YAAY,CAAC,GAAGhI,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC;;EAEvD,MAAM,CAACiI,QAAQ,EAAEC,WAAW,CAAC,GAAGlI,QAAQ,CAAC;IACvCmI,IAAI,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;IAC9BC,QAAQ,EAAE;MACRC,QAAQ,EAAE,oBAAoB;MAC9BC,SAAS,EAAE,EAAE;MACbC,QAAQ,EAAE,EAAE;MACZC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,KAAK,EAAE,EAAE;MACTC,YAAY,EAAE;IAChB,CAAC;IACDC,UAAU,EAAE9H,uBAAuB;IACnC+H,MAAM,EAAE,KAAK;IACbpH,SAAS,EAAE;EACb,CAAC,CAAC;;EAEF;EACA,MAAM;IAAEqH;EAAY,CAAC,GAAGC,MAAM,CAAC;IAAEC,MAAM,EAAEnI;EAAQ,CAAC,CAAC;EAEnD,MAAMoI,oBAAoB,GAAGnJ,WAAW,CAAEkC,CAAC,IAAK;IAC9C,MAAM;MAAEiE,IAAI;MAAEN;IAAM,CAAC,GAAG3D,CAAC,CAAC0D,MAAM;IAChCqC,WAAW,CAACmB,IAAI,KAAK;MACnB,GAAGA,IAAI;MACPf,QAAQ,EAAE;QACR,GAAGe,IAAI,CAACf,QAAQ;QAChB,CAAClC,IAAI,GAAGN;MACV;IACF,CAAC,CAAC,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMwD,sBAAsB,GAAGrJ,WAAW,CAAC,CAACmF,IAAI,EAAEmE,UAAU,KAAK;IAC/DrB,WAAW,CAACmB,IAAI,KAAK;MACnB,GAAGA,IAAI;MACPN,UAAU,EAAE;QACV,GAAGM,IAAI,CAACN,UAAU;QAClB,CAAC3D,IAAI,GAAGmE;MACV;IACF,CAAC,CAAC,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,qBAAqB,GAAGvJ,WAAW,CAAEoG,OAAO,IAAK;IACrD6B,WAAW,CAACmB,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAEzH,SAAS,EAAEyE;IAAQ,CAAC,CAAC,CAAC;EACxD,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMoD,qBAAqB,GAAGxJ,WAAW,CAAEkC,CAAC,IAAK;IAC/C+F,WAAW,CAACmB,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAEL,MAAM,EAAE7G,CAAC,CAAC0D,MAAM,CAAC6D;IAAQ,CAAC,CAAC,CAAC;EAC9D,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,YAAY,GAAGA,CAAA,KAAM;IACzB,MAAMC,IAAI,GAAG3B,QAAQ,CAACK,QAAQ;IAC9B,OAAOsB,IAAI,CAACpB,SAAS,IAAIoB,IAAI,CAACnB,QAAQ,IAAImB,IAAI,CAAClB,KAAK,IAAIkB,IAAI,CAACjB,QAAQ,IAAIiB,IAAI,CAAChB,QAAQ,IAAIgB,IAAI,CAACd,YAAY;EAC7G,CAAC;EAED,MAAMe,YAAY,GAAGA,CAAA,KAAM;IACzB,OAAO5B,QAAQ,CAACe,MAAM,IAAIf,QAAQ,CAACrG,SAAS;EAC9C,CAAC;EAED,MAAMkI,UAAU,GAAGA,CAAA,KAAM;IACvB,IAAIvC,UAAU,KAAK,CAAC,IAAI,CAACoC,YAAY,CAAC,CAAC,EAAE;MACvC;MACA7B,eAAe,CAAC,uDAAuD,CAAC;MACxEE,YAAY,CAAC,OAAO,CAAC;MACrBJ,YAAY,CAAC,IAAI,CAAC;MAClB;IACF;IACAJ,aAAa,CAAC6B,IAAI,IAAIA,IAAI,GAAG,CAAC,CAAC;EACjC,CAAC;EAED,MAAMU,UAAU,GAAGA,CAAA,KAAM;IACvBvC,aAAa,CAAC6B,IAAI,IAAIA,IAAI,GAAG,CAAC,CAAC;EACjC,CAAC;EAED,MAAMW,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI,CAACH,YAAY,CAAC,CAAC,EAAE;MACnB/B,eAAe,CAAC,8DAA8D,CAAC;MAC/EE,YAAY,CAAC,OAAO,CAAC;MACrBJ,YAAY,CAAC,IAAI,CAAC;MAClB;IACF;IAEAF,eAAe,CAAC,IAAI,CAAC;IACrBI,eAAe,CAAC,gBAAgB,CAAC;IACjCE,YAAY,CAAC,SAAS,CAAC,CAAC,CAAC;IACzBJ,YAAY,CAAC,IAAI,CAAC;IAElB,IAAI;MACF;MACA,MAAMqB,WAAW,CAAChB,QAAQ,CAAC;MAE3BH,eAAe,CAAC,gDAAgD,CAAC;MACjEE,YAAY,CAAC,SAAS,CAAC;;MAEvB;MACAE,WAAW,CAAC;QACVC,IAAI,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;QAC9BC,QAAQ,EAAE;UACRC,QAAQ,EAAE,oBAAoB;UAC9BC,SAAS,EAAE,EAAE;UACbC,QAAQ,EAAE,EAAE;UACZC,KAAK,EAAE,EAAE;UACTC,QAAQ,EAAE,EAAE;UACZC,QAAQ,EAAE,EAAE;UACZC,KAAK,EAAE,EAAE;UACTC,YAAY,EAAE;QAChB,CAAC;QACDC,UAAU,EAAE9H,uBAAuB;QACnC+H,MAAM,EAAE,KAAK;QACbpH,SAAS,EAAE;MACb,CAAC,CAAC;MACF4F,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;IAEpB,CAAC,CAAC,OAAOf,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;MACxDqB,eAAe,CAAC,wBAAwBrB,KAAK,CAACwD,OAAO,IAAI,yBAAyB,EAAE,CAAC;MACrFjC,YAAY,CAAC,OAAO,CAAC;IACvB,CAAC,SAAS;MACRN,eAAe,CAAC,KAAK,CAAC;MACtB;IACF;EACF,CAAC;;EAGD;EACA,MAAMwC,KAAK,GAAGA,CAAC;IAAED,OAAO;IAAEpF,IAAI;IAAEsF;EAAQ,CAAC,KAAK;IAC5C,MAAMC,SAAS,GAAGvF,IAAI,KAAK,SAAS;IACpC,MAAMwF,OAAO,GAAGxF,IAAI,KAAK,OAAO;IAChC,MAAMyF,SAAS,GAAGzF,IAAI,KAAK,SAAS;IAEpC,oBACEhE,OAAA;MAAKwD,SAAS,EAAC,mFAAmF;MAAAC,QAAA,eAChGzD,OAAA;QAAKwD,SAAS,EAAC,gHAAgH;QAAAC,QAAA,gBAE7HzD,OAAA;UAAKwD,SAAS,EAAE,wEACb+F,SAAS,GAAG,cAAc,GAAGC,OAAO,GAAG,YAAY,GAAG,eAAe,EACrE;UAAA/F,QAAA,EACAgG,SAAS,gBACPzJ,OAAA,CAACF,OAAO;YAAC0D,SAAS,EAAC;UAAsC;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,GAC3DyF,SAAS,gBACXvJ,OAAA,CAACR,WAAW;YAACgE,SAAS,EAAC;UAAwB;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,gBAElD9D,OAAA,CAACN,CAAC;YAAC8D,SAAS,EAAC;UAAsB;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QACtC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC,eAEN9D,OAAA;UAAIwD,SAAS,EAAC,sCAAsC;UAAAC,QAAA,EACjDgG,SAAS,GAAG,eAAe,GAAGF,SAAS,GAAG,SAAS,GAAG;QAAO;UAAA5F,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5D,CAAC,eACL9D,OAAA;UAAGwD,SAAS,EAAC,oBAAoB;UAAAC,QAAA,EAAE2F;QAAO;UAAAzF,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EAE9C,CAAC2F,SAAS,iBACTzJ,OAAA;UACE+D,OAAO,EAAEuF,OAAQ;UACjB9F,SAAS,EAAE,gEACT+F,SAAS,GAAG,wDAAwD,GAAG,6CAA6C,EACnH;UAAA9F,QAAA,EACJ;QAED;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CACT;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV,CAAC;EAGD,MAAM4F,UAAU,GAAGA,CAAA,KAAM;IACvB,QAAQhD,UAAU;MAChB,KAAK,CAAC;QACJ;QACA,oBACE1G,OAAA;UAAKwD,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACxBzD,OAAA;YAAIwD,SAAS,EAAC,qDAAqD;YAAAC,QAAA,EAAC;UAA4B;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAErG9D,OAAA,CAAC2J,UAAU;YAACC,KAAK,EAAC,QAAQ;YAAC3E,KAAK,EAAEmC,QAAQ,CAACK,QAAQ,CAACC,QAAS;YAACnC,IAAI,EAAC,UAAU;YAACsE,QAAQ,EAAE;UAAK;YAAAlG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAChG9D,OAAA,CAAC2J,UAAU;YAACC,KAAK,EAAC,sBAAsB;YAAC3E,KAAK,EAAEmC,QAAQ,CAACK,QAAQ,CAACE,SAAU;YAACpC,IAAI,EAAC,WAAW;YAACU,QAAQ,EAAEsC,oBAAqB;YAACuB,QAAQ,EAAE;UAAK;YAAAnG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC,CAAC,eAC/I9D,OAAA,CAAC2J,UAAU;YAACC,KAAK,EAAC,yBAAyB;YAAC3E,KAAK,EAAEmC,QAAQ,CAACK,QAAQ,CAACG,QAAS;YAACrC,IAAI,EAAC,UAAU;YAACU,QAAQ,EAAEsC,oBAAqB;YAACuB,QAAQ,EAAE;UAAK;YAAAnG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC,CAAC,eAChJ9D,OAAA,CAAC2J,UAAU;YAACC,KAAK,EAAC,yBAAyB;YAAC3E,KAAK,EAAEmC,QAAQ,CAACK,QAAQ,CAACI,KAAM;YAACtC,IAAI,EAAC,OAAO;YAACU,QAAQ,EAAEsC,oBAAqB;YAACuB,QAAQ,EAAE;UAAK;YAAAnG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC,CAAC,eAC1I9D,OAAA,CAAC2J,UAAU;YAACC,KAAK,EAAC,aAAa;YAAC3E,KAAK,EAAEmC,QAAQ,CAACK,QAAQ,CAACK,QAAS;YAACvC,IAAI,EAAC,UAAU;YAACU,QAAQ,EAAEsC,oBAAqB;YAACuB,QAAQ,EAAE;UAAK;YAAAnG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC,CAAC,eACpI9D,OAAA,CAAC2J,UAAU;YAACC,KAAK,EAAC,aAAa;YAAC3E,KAAK,EAAEmC,QAAQ,CAACK,QAAQ,CAACM,QAAS;YAACxC,IAAI,EAAC,UAAU;YAACU,QAAQ,EAAEsC,oBAAqB;YAACuB,QAAQ,EAAE;UAAK;YAAAnG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC,CAAC,eACpI9D,OAAA,CAAC2J,UAAU;YAACC,KAAK,EAAC,OAAO;YAAC3E,KAAK,EAAEmC,QAAQ,CAACK,QAAQ,CAACO,KAAM;YAACzC,IAAI,EAAC,OAAO;YAACU,QAAQ,EAAEsC;UAAqB;YAAA5E,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC,CAAC,eACxG9D,OAAA,CAAC2J,UAAU;YAACC,KAAK,EAAC,YAAY;YAAC3E,KAAK,EAAEmC,QAAQ,CAACK,QAAQ,CAACQ,YAAa;YAAC1C,IAAI,EAAC,cAAc;YAACU,QAAQ,EAAEsC,oBAAqB;YAACuB,QAAQ,EAAE;UAAK;YAAAnG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC,CAAC,eAE3I9D,OAAA;YAAKwD,SAAS,EAAC,uBAAuB;YAAAC,QAAA,eACpCzD,OAAA;cACE+D,OAAO,EAAEkF,UAAW;cACpBc,QAAQ,EAAE,CAACjB,YAAY,CAAC,CAAE;cAC1BtF,SAAS,EAAC,uIAAuI;cAAAC,QAAA,GAClJ,cACa,eAAAzD,OAAA;gBAAM,eAAY,MAAM;gBAAAyD,QAAA,EAAC;cAAM;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5C;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAGV,KAAK,CAAC;QACJ;;QAEA;QACA,MAAMkG,MAAM,GAAG;UACb,YAAY,EAAE,CAAC,OAAO,CAAC;UACvB,OAAO,EAAE,CAAC,YAAY,EAAE,SAAS,EAAE,SAAS,EAAE,aAAa,CAAC;UAC5D,gBAAgB,EAAE,CAAC,OAAO,EAAE,QAAQ;QACtC,CAAC;QAED,oBACEhK,OAAA;UAAAyD,QAAA,gBACEzD,OAAA;YAAIwD,SAAS,EAAC,qDAAqD;YAAAC,QAAA,EAAC;UAAe;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAExF9D,OAAA;YAAKwD,SAAS,EAAC,wDAAwD;YAAAC,QAAA,gBACnEzD,OAAA;cAAMwD,SAAS,EAAC,gBAAgB;cAAAC,QAAA,EAAC;YAAe;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACvD9D,OAAA;cAAMwD,SAAS,EAAC,iBAAiB;cAAAC,QAAA,EAAC;YAAgB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACzD9D,OAAA;cAAMwD,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAC;YAAgB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrD,CAAC,EAELmG,MAAM,CAACC,OAAO,CAACF,MAAM,CAAC,CAACjE,GAAG,CAAC,CAAC,CAACoE,SAAS,EAAEC,KAAK,CAAC,kBAC3CpK,OAAA;YAAqBwD,SAAS,EAAC,MAAM;YAAAC,QAAA,gBACjCzD,OAAA;cAAIwD,SAAS,EAAC,wCAAwC;cAAAC,QAAA,EAAE0G;YAAS;cAAAxG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACvE9D,OAAA;cAAKwD,SAAS,EAAC,WAAW;cAAAC,QAAA,EACrB2G,KAAK,CAACrE,GAAG,CAACxB,IAAI,iBACXvE,OAAA,CAACmE,cAAc;gBAEXI,IAAI,EAAEA,IAAK;gBACXC,OAAO,EAAE4C,QAAQ,CAACc,UAAU,CAAC3D,IAAI,CAAE;gBACnCE,QAAQ,EAAEgE;cAAuB,GAH5BlE,IAAI;gBAAAZ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAIZ,CACJ;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CAAC;UAAA,GAXAqG,SAAS;YAAAxG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAYd,CACR,CAAC,eAEF9D,OAAA;YAAKwD,SAAS,EAAC,2BAA2B;YAAAC,QAAA,gBACxCzD,OAAA;cACE+D,OAAO,EAAEmF,UAAW;cACpB1F,SAAS,EAAC,kHAAkH;cAAAC,QAAA,EAC7H;YAED;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACT9D,OAAA;cACE+D,OAAO,EAAEkF,UAAW;cACpBzF,SAAS,EAAC,mHAAmH;cAAAC,QAAA,GAC9H,cACa,eAAAzD,OAAA;gBAAM,eAAY,MAAM;gBAAAyD,QAAA,EAAC;cAAM;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5C,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAGV,KAAK,CAAC;QACJ;QACA,oBACE9D,OAAA;UAAKwD,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACxBzD,OAAA;YAAIwD,SAAS,EAAC,qDAAqD;YAAAC,QAAA,EAAC;UAAqB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAG9F9D,OAAA;YAAKwD,SAAS,EAAC,+FAA+F;YAAAC,QAAA,gBAC1GzD,OAAA;cAAIwD,SAAS,EAAC,wCAAwC;cAAAC,QAAA,EAAC;YAA6D;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACzH9D,OAAA;cAAIwD,SAAS,EAAC,oCAAoC;cAAAC,QAAA,gBAC9CzD,OAAA;gBAAAyD,QAAA,EAAI;cAAkG;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC3G9D,OAAA;gBAAAyD,QAAA,EAAI;cAA0F;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACnG9D,OAAA;gBAAAyD,QAAA,EAAI;cAAsF;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC/F9D,OAAA;gBAAAyD,QAAA,EAAI;cAA2F;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACpG9D,OAAA;gBAAAyD,QAAA,EAAI;cAAwF;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACjG9D,OAAA;gBAAAyD,QAAA,EAAI;cAA4D;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACrE9D,OAAA;gBAAAyD,QAAA,EAAI;cAA6F;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACtG9D,OAAA;gBAAAyD,QAAA,EAAI;cAAsF;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC/F9D,OAAA;gBAAAyD,QAAA,EAAI;cAAqE;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC9E9D,OAAA;gBAAAyD,QAAA,EAAI;cAA4D;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ,CAAC,eAGN9D,OAAA;YAAKwD,SAAS,EAAC,uBAAuB;YAAAC,QAAA,gBAClCzD,OAAA;cACIgE,IAAI,EAAC,UAAU;cACfqG,EAAE,EAAC,QAAQ;cACXxB,OAAO,EAAEzB,QAAQ,CAACe,MAAO;cACzBlC,QAAQ,EAAE2C,qBAAsB;cAChCpF,SAAS,EAAC;YAA4E;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzF,CAAC,eACF9D,OAAA;cAAOsK,OAAO,EAAC,QAAQ;cAAC9G,SAAS,EAAC,0CAA0C;cAAAC,QAAA,EAAC;YAE7E;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACP,CAAC,eAGN9D,OAAA;YAAKwD,SAAS,EAAC,MAAM;YAAAC,QAAA,gBACnBzD,OAAA;cAAIwD,SAAS,EAAC,sCAAsC;cAAAC,QAAA,EAAC;YAAsB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAChF9D,OAAA,CAACc,YAAY;cACXC,SAAS,EAAEqG,QAAQ,CAACrG,SAAU;cAC9BC,YAAY,EAAE2H;YAAsB;cAAAhF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAGN9D,OAAA;YAAKwD,SAAS,EAAC,2BAA2B;YAAAC,QAAA,gBACxCzD,OAAA;cACE+D,OAAO,EAAEmF,UAAW;cACpB1F,SAAS,EAAC,kHAAkH;cAAAC,QAAA,EAC7H;YAED;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACT9D,OAAA;cACE+D,OAAO,EAAEoF,YAAa;cACtBY,QAAQ,EAAEnD,YAAY,IAAI,CAACoC,YAAY,CAAC,CAAE;cAC1CxF,SAAS,EAAC,8MAA8M;cAAAC,QAAA,EAEtNmD,YAAY,gBACV5G,OAAA,CAAAE,SAAA;gBAAAuD,QAAA,gBACGzD,OAAA,CAACF,OAAO;kBAAC0D,SAAS,EAAC;gBAAsB;kBAAAG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,eAC5C9D,OAAA;kBAAAyD,QAAA,EAAM;gBAAc;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA,eAC5B,CAAC,gBAEH9D,OAAA,CAAAE,SAAA;gBAAAuD,QAAA,gBACGzD,OAAA,CAACH,QAAQ;kBAAC2D,SAAS,EAAC;gBAAS;kBAAAG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,eAChC9D,OAAA;kBAAAyD,QAAA,EAAM;gBAAgC;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA,eAC9C;YACJ;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAGV;QACE,oBAAO9D,OAAA;UAAAyD,QAAA,EAAK;QAAqB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;IAC3C;EACF,CAAC;;EAED;EACA,MAAM6F,UAAU,GAAGA,CAAC;IAAEC,KAAK;IAAE3E,KAAK;IAAEM,IAAI;IAAEU,QAAQ;IAAE4D,QAAQ,GAAG,KAAK;IAAEC,QAAQ,GAAG;EAAM,CAAC,kBACtF9J,OAAA;IAAAyD,QAAA,gBACIzD,OAAA;MAAOwD,SAAS,EAAC,8CAA8C;MAAAC,QAAA,GAC1DmG,KAAK,EAAC,GAAC,EAACE,QAAQ,iBAAI9J,OAAA;QAAMwD,SAAS,EAAC,cAAc;QAAAC,QAAA,EAAC;MAAC;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzD,CAAC,eACR9D,OAAA;MACIgE,IAAI,EAAC,MAAM;MACXuB,IAAI,EAAEA,IAAK;MACXN,KAAK,EAAEA,KAAM;MACbgB,QAAQ,EAAEA,QAAS;MACnB4D,QAAQ,EAAEA,QAAS;MACnBrG,SAAS,EAAE,mEACPqG,QAAQ,GACF,2CAA2C,GAC3C,+DAA+D;IACtE;MAAAlG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACD,CACN;;EAGD;EACA,MAAMyG,KAAK,GAAG,CACZ;IAAEF,EAAE,EAAE,CAAC;IAAE9E,IAAI,EAAE,kBAAkB;IAAEiF,IAAI,EAAElL;EAAI,CAAC,EAC9C;IAAE+K,EAAE,EAAE,CAAC;IAAE9E,IAAI,EAAE,UAAU;IAAEiF,IAAI,EAAEjL;EAAS,CAAC,EAC3C;IAAE8K,EAAE,EAAE,CAAC;IAAE9E,IAAI,EAAE,cAAc;IAAEiF,IAAI,EAAEhL;EAAY,CAAC,CACnD;EAED,oBACEQ,OAAA;IAAKwD,SAAS,EAAC,+BAA+B;IAAAC,QAAA,gBAC5CzD,OAAA;MAAQwD,SAAS,EAAC,oBAAoB;MAAAC,QAAA,eACpCzD,OAAA;QAAKwD,SAAS,EAAC,+EAA+E;QAAAC,QAAA,gBAC5FzD,OAAA;UAAKwD,SAAS,EAAC,6BAA6B;UAAAC,QAAA,gBAC1CzD,OAAA,CAACP,KAAK;YAAC+D,SAAS,EAAC;UAAyB;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC7C9D,OAAA;YAAIwD,SAAS,EAAC,uCAAuC;YAAAC,QAAA,EAAC;UAAY;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpE,CAAC,eACN9D,OAAA;UAAKwD,SAAS,EAAC,mCAAmC;UAAAC,QAAA,EAAC;QAEnD;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC,eAET9D,OAAA;MAAMwD,SAAS,EAAC,6CAA6C;MAAAC,QAAA,gBAE3DzD,OAAA;QAAKwD,SAAS,EAAC,sDAAsD;QAAC,cAAW,UAAU;QAAAC,QAAA,EACxF8G,KAAK,CAACxE,GAAG,CAAE0E,IAAI,iBACdzK,OAAA;UAEEwD,SAAS,EAAE,yEACTkD,UAAU,KAAK+D,IAAI,CAACJ,EAAE,GAAG,8BAA8B,GAAG,oBAAoB,EAC7E;UAAA5G,QAAA,eAEHzD,OAAA;YAAKwD,SAAS,EAAE,+BACdkD,UAAU,IAAI+D,IAAI,CAACJ,EAAE,GAAG,iBAAiB,GAAG,eAAe,EAC1D;YAAA5G,QAAA,gBACDzD,OAAA,CAACyK,IAAI,CAACD,IAAI;cAAChH,SAAS,EAAC;YAAS;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eACjC9D,OAAA;cAAMwD,SAAS,EAAC,sCAAsC;cAAAC,QAAA,EACnDgH,IAAI,CAAClF;YAAI;cAAA5B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ;QAAC,GAZD2G,IAAI,CAACJ,EAAE;UAAA1G,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAaT,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAGN9D,OAAA;QAAKwD,SAAS,EAAC,mCAAmC;QAAAC,QAAA,EAC/CiG,UAAU,CAAC;MAAC;QAAA/F,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACV,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC,EAGNgD,SAAS,iBACR9G,OAAA,CAACqJ,KAAK;MACJD,OAAO,EAAEpC,YAAa;MACtBhD,IAAI,EAAEkD,SAAU;MAChBoC,OAAO,EAAEA,CAAA,KAAMvC,YAAY,CAAC,KAAK;IAAE;MAAApD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpC,CACF;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAAC2C,GAAA,CAhaID,SAAS;EAAA,QAyBW6B,MAAM;AAAA;AAAAqC,GAAA,GAzB1BlE,SAAS;AAkaf,eAAeA,SAAS;;AAExB;AACA;AACA,MAAM6B,MAAM,GAAGA,CAAC;EAAEC;AAAO,CAAC,KAAK;EAAAqC,GAAA;EAE3B;EACA,MAAMvC,WAAW,GAAGhJ,WAAW,CAAC,MAAOwL,IAAI,IAAK;IAC5C,IAAI;MACAjF,OAAO,CAACkF,GAAG,CAAC,sCAAsC,CAAC;MACnD;MACA,MAAMC,WAAW,GAAG,CAAC;MACrB,IAAIC,QAAQ;MAEZ,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,WAAW,EAAEE,CAAC,EAAE,EAAE;QAClC,IAAI;UACAD,QAAQ,GAAG,MAAME,KAAK,CAAC3C,MAAM,EAAE;YAC3B4C,MAAM,EAAE,MAAM;YACdC,OAAO,EAAE;cACL,cAAc,EAAE;YACpB,CAAC;YACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACV,IAAI;UAC7B,CAAC,CAAC;UAEF,IAAIG,QAAQ,CAACQ,EAAE,EAAE;YACb,MAAM,CAAC;UACX,CAAC,MAAM,IAAIP,CAAC,KAAKF,WAAW,GAAG,CAAC,EAAE;YAC7B;YACA,MAAMU,SAAS,GAAG,MAAMT,QAAQ,CAACU,IAAI,CAAC,CAAC;YACvC,MAAM,IAAIC,KAAK,CAAC,iBAAiBX,QAAQ,CAACzK,MAAM,MAAMkL,SAAS,CAACG,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,KAAK,CAAC;UAC5F;QAEJ,CAAC,CAAC,OAAO/F,KAAK,EAAE;UACZ,IAAIoF,CAAC,KAAKF,WAAW,GAAG,CAAC,EAAE;YACvB,MAAM,IAAIY,KAAK,CAAC,+BAA+BZ,WAAW,kBAAkB,CAAC;UACjF;UACA;UACA,MAAMc,KAAK,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEd,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;UACrC,MAAM,IAAIe,OAAO,CAACC,OAAO,IAAIC,UAAU,CAACD,OAAO,EAAEJ,KAAK,CAAC,CAAC;QAC5D;MACJ;;MAGA;MACA,MAAMM,IAAI,GAAG,MAAMnB,QAAQ,CAACmB,IAAI,CAAC,CAAC;;MAElC;MACA,MAAMC,kBAAkB,GAAGpB,QAAQ,CAACI,OAAO,CAACiB,GAAG,CAAC,qBAAqB,CAAC;MACtE,IAAIC,QAAQ,GAAG,uBAAuB;MACtC,IAAIF,kBAAkB,EAAE;QACpB,MAAMG,KAAK,GAAGH,kBAAkB,CAACG,KAAK,CAAC,iBAAiB,CAAC;QACzD,IAAIA,KAAK,IAAIA,KAAK,CAAC,CAAC,CAAC,EAAE;UACnBD,QAAQ,GAAGC,KAAK,CAAC,CAAC,CAAC;QACvB;MACJ;;MAEA;MACA,MAAMC,GAAG,GAAGlJ,MAAM,CAACmJ,GAAG,CAACC,eAAe,CAACP,IAAI,CAAC;MAC5C,MAAMQ,CAAC,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;MACrCF,CAAC,CAACG,KAAK,CAACC,OAAO,GAAG,MAAM;MACxBJ,CAAC,CAACK,IAAI,GAAGR,GAAG;MACZG,CAAC,CAACM,QAAQ,GAAGX,QAAQ;;MAErB;MACAM,QAAQ,CAACvB,IAAI,CAAC6B,WAAW,CAACP,CAAC,CAAC;MAC5BA,CAAC,CAACQ,KAAK,CAAC,CAAC;MACT7J,MAAM,CAACmJ,GAAG,CAACW,eAAe,CAACZ,GAAG,CAAC;MAE/B5G,OAAO,CAACkF,GAAG,CAAC,yBAAyBwB,QAAQ,EAAE,CAAC;MAChD,OAAOA,QAAQ,CAAC,CAAC;IAErB,CAAC,CAAC,OAAOzG,KAAK,EAAE;MACZD,OAAO,CAACC,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;MACxD,MAAM,IAAI8F,KAAK,CAAC,wBAAwB9F,KAAK,CAACwD,OAAO,EAAE,CAAC;IAC5D;EACJ,CAAC,EAAE,CAACd,MAAM,CAAC,CAAC;EAEZ,OAAO;IAAEF;EAAY,CAAC;AAC1B,CAAC;AAACuC,GAAA,CA1EItC,MAAM;AAAA,IAAAnE,EAAA,EAAAI,GAAA,EAAAiC,GAAA,EAAAmE,GAAA;AAAA0C,YAAA,CAAAlJ,EAAA;AAAAkJ,YAAA,CAAA9I,GAAA;AAAA8I,YAAA,CAAA7G,GAAA;AAAA6G,YAAA,CAAA1C,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}